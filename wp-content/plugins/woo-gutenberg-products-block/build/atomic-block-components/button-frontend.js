(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[8],{319:function(t,e){},320:function(t,e,c){"use strict";c.d(e,"a",(function(){return u}));var o=c(0),n=c(9),r=c(6),a=c(21),d=c(24),i=c(34);const s=(t,e)=>{const c=t.find(t=>{let{id:c}=t;return c===e});return c?c.quantity:0},u=t=>{const{addItemToCart:e}=Object(n.useDispatch)(r.CART_STORE_KEY),{cartItems:c,cartIsLoading:u}=Object(d.a)(),{addErrorNotice:l,removeNotice:b}=Object(i.a)(),[p,f]=Object(o.useState)(!1),O=Object(o.useRef)(s(c,t));return Object(o.useEffect)(()=>{const e=s(c,t);e!==O.current&&(O.current=e)},[c,t]),{cartQuantity:Number.isFinite(O.current)?O.current:0,addingToCart:p,cartIsLoading:u,addToCart:function(){let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return f(!0),e(t,c).then(()=>{b("add-to-cart")}).catch(t=>{l(Object(a.decodeEntities)(t.message),{context:"wc/all-products",id:"add-to-cart",isDismissible:!0})}).finally(()=>{f(!1)})}}}},34:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var o=c(0),n=c(88);const r=()=>{const{notices:t,createNotice:e,removeNotice:c,setIsSuppressed:r}=Object(n.b)(),a=Object(o.useRef)(t);Object(o.useEffect)(()=>{a.current=t},[t]);const d=Object(o.useMemo)(()=>({hasNoticesOfType:t=>a.current.some(e=>e.type===t),removeNotices:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.current.forEach(e=>{null!==t&&e.status!==t||c(e.id)})},removeNotice:c}),[c]),i=Object(o.useMemo)(()=>({addDefaultNotice:function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("default",t,{...c})},addErrorNotice:function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("error",t,{...c})},addWarningNotice:function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("warning",t,{...c})},addInfoNotice:function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("info",t,{...c})},addSuccessNotice:function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e("success",t,{...c})}}),[e]);return{notices:t,...d,...i,setIsSuppressed:r}}},368:function(t,e,c){"use strict";c.r(e);var o=c(11),n=c.n(o),r=c(0),a=(c(8),c(4)),d=c.n(a),i=c(1),s=c(33),u=c(320),l=c(21),b=c(50),p=c(2),f=c(49),O=c(113);c(319);const m=t=>{let{product:e}=t;const{id:c,permalink:o,add_to_cart:a,has_options:f,is_purchasable:O,is_in_stock:m}=e,{dispatchStoreEvent:_}=Object(s.a)(),{cartQuantity:j,addingToCart:g,addToCart:w}=Object(u.a)(c),k=Number.isFinite(j)&&j>0,h=!f&&O&&m,v=Object(l.decodeEntities)((null==a?void 0:a.description)||""),N=k?Object(i.sprintf)(
/* translators: %s number of products in cart. */
Object(i._n)("%d in cart","%d in cart",j,"woo-gutenberg-products-block"),j):Object(l.decodeEntities)((null==a?void 0:a.text)||Object(i.__)("Add to cart","woo-gutenberg-products-block")),E=h?"button":"a",C={};return h?C.onClick=()=>{w(),_("cart-add-item",{product:e});const{cartRedirectAfterAdd:t}=Object(p.getSetting)("productsSettings");t&&(window.location.href=b.c)}:(C.href=o,C.rel="nofollow",C.onClick=()=>{_("product-view-link",{product:e})}),Object(r.createElement)(E,n()({"aria-label":v,className:d()("wp-block-button__link","add_to_cart_button","wc-block-components-product-button__button",{loading:g,added:k}),disabled:g},C),N)},_=()=>Object(r.createElement)("button",{className:d()("wp-block-button__link","add_to_cart_button","wc-block-components-product-button__button","wc-block-components-product-button__button--placeholder"),disabled:!0});e.default=Object(O.withProductDataContext)(t=>{let{className:e}=t;const{parentClassName:c}=Object(f.useInnerBlockLayoutContext)(),{product:o}=Object(f.useProductDataContext)();return Object(r.createElement)("div",{className:d()(e,"wp-block-button","wc-block-components-product-button",{[c+"__product-add-to-cart"]:c})},o.id?Object(r.createElement)(m,{product:o}):Object(r.createElement)(_,null))})}}]);