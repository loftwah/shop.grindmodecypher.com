(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{545:function(e,t,a){"use strict";var r=a(530),n=a.n(r),i=a(532),s=a.n(i),c=a(36),o=a.n(c),l=a(10),d=a.n(l),u=a(12),m=a.n(u),p=a(526),g=a.n(p),b=a(35),f=a(1),h=function(e){var t=e.children,a=e.required,r=e.optional,i=e.translate,c=e.className,l=s()(e,["children","required","optional","translate","className"]);return t=d.a.Children.toArray(t)||[],a&&t.push(function(e){return d.a.createElement("small",{className:"form-label__required"},e("Required"))}(i)),r&&t.push(function(e){return d.a.createElement("small",{className:"form-label__optional"},e("Optional"))}(i)),d.a.createElement("label",n()({},Object(f.omit)(l,"moment","numberFormat"),{className:g()(c,"form-label")}),t.length?t.map(function(e,t){return Object(f.isObject)(e)?o()({},e,{key:t}):e}):null)};h.propTypes={required:m.a.bool},t.a=Object(b.localize)(h)},559:function(e,t,a){"use strict";a.d(t,"a",function(){return N});var r=a(530),n=a.n(r),i=a(107),s=a.n(i),c=a(108),o=a.n(c),l=a(528),d=a.n(l),u=a(527),m=a.n(u),p=a(531),g=a.n(p),b=a(529),f=a.n(b),h=a(34),v=a.n(h),_=a(10),E=a.n(_),y=a(12),k=a.n(y),O=a(526),j=a.n(O),I=a(1),N=function(e){function t(){var e;return s()(this,t),(e=d()(this,m()(t).apply(this,arguments))).selectOnFocus=e.selectOnFocus.bind(g()(e)),e}return f()(t,e),o()(t,[{key:"focus",value:function(){this.refs.textField.focus()}},{key:"selectOnFocus",value:function(e){this.props.selectOnFocus&&e.target.select()}},{key:"render",value:function(){var e=this.props.inputRef,t=Object(I.omit)(this.props,"isError","isValid","selectOnFocus","inputRef"),a=j()("form-text-input",this.props.className,{"is-error":this.props.isError,"is-valid":this.props.isValid});return E.a.createElement("input",n()({type:"text"},t,{ref:e||"textField",className:a,onClick:this.selectOnFocus}))}}]),t}(_.PureComponent);v()(N,"propTypes",{isError:k.a.bool,isValid:k.a.bool,selectOnFocus:k.a.bool,className:k.a.string})},578:function(e,t,a){"use strict";var r=a(530),n=a.n(r),i=a(532),s=a.n(i),c=a(107),o=a.n(c),l=a(108),d=a.n(l),u=a(528),m=a.n(u),p=a(527),g=a.n(p),b=a(531),f=a.n(b),h=a(529),v=a.n(h),_=a(34),E=a.n(_),y=a(526),k=a.n(y),O=a(35),j=a(1),I=a(10),N=a.n(I),R=a(544),q=function(e){function t(){var e,a;o()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=m()(this,(e=g()(t)).call.apply(e,[this].concat(n))),E()(f()(a),"getDefaultButtonAction",function(){return a.props.isSubmitting?a.props.translate("Saving\u2026"):a.props.translate("Save Settings")}),a}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,r=e.isPrimary,i=s()(e,["children","className","isPrimary"]),c=k()(a,"form-button");return N.a.createElement(R.a,n()({},Object(j.omit)(i,["isSubmitting","moment","numberFormat","translate"]),{primary:r,className:c}),I.Children.count(t)?t:this.getDefaultButtonAction())}}]),t}(N.a.Component);E()(q,"defaultProps",{isSubmitting:!1,isPrimary:!0,type:"submit"}),t.a=Object(O.localize)(q)},585:function(e,t,a){"use strict";var r=a(10),n=a.n(r),i=a(12),s=a.n(i),c=a(542),o=a(545),l=a(559),d=a(549),u=a(554),m=function(e){var t=e.id,a=e.title,r=e.description,i=e.value,s=e.placeholder,m=e.updateValue,p=e.error,g=e.className;return n.a.createElement(c.a,{className:g},n.a.createElement(o.a,{htmlFor:t},a),n.a.createElement(l.a,{id:t,name:t,placeholder:s,value:i,onChange:function(e){return m(e.target.value)},isError:Boolean(p)}),p&&"string"===typeof p&&n.a.createElement(d.a,{text:p}),!p&&r&&n.a.createElement(u.a,null,r))};m.propTypes={id:s.a.string.isRequired,title:s.a.node,description:s.a.string,value:s.a.string.isRequired,updateValue:s.a.func,error:s.a.oneOfType([s.a.string,s.a.bool]),className:s.a.string},t.a=m},589:function(e,t,a){"use strict";a.d(t,"a",function(){return j});var r=a(532),n=a.n(r),i=a(107),s=a.n(i),c=a(108),o=a.n(c),l=a(528),d=a.n(l),u=a(527),m=a.n(u),p=a(529),g=a.n(p),b=a(34),f=a.n(b),h=a(10),v=a.n(h),_=a(12),E=a.n(_),y=a(526),k=a.n(y),O=a(559),j=function(e){function t(){return s()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.noWrap,a=e.prefix,r=e.suffix,i=n()(e,["noWrap","prefix","suffix"]);return v.a.createElement("div",{className:k()("form-text-input-with-affixes",{"no-wrap":t})},a&&v.a.createElement("span",{className:"form-text-input-with-affixes__prefix"},a),v.a.createElement(O.a,i),r&&v.a.createElement("span",{className:"form-text-input-with-affixes__suffix"},r))}}]),t}(v.a.Component);f()(j,"displayName","FormTextInputWithAffixes"),f()(j,"propTypes",{noWrap:E.a.bool,prefix:E.a.node,suffix:E.a.node})},610:function(e,t,a){"use strict";var r=a(530),n=a.n(r),i=a(10),s=a.n(i),c=a(12),o=a.n(c),l=a(526),d=a.n(l),u=a(534),m=a.n(u),p=a(1),g=function(e){var t=e.className,a=e.disabled,r=e.checked,i=e.partialChecked,c=Object(p.omit)(e,["className","partialChecked"]);return s.a.createElement("span",{className:d()(t,"form-checkbox",{"is-disabled":a})},s.a.createElement("input",n()({},c,{type:"checkbox"})),r&&s.a.createElement(m.a,{icon:"checkmark",size:14}),!r&&i&&s.a.createElement(m.a,{icon:"minus-small",size:16}))};g.propTypes={checked:o.a.bool.isRequired,partialChecked:o.a.bool,onChange:o.a.func.isRequired,className:o.a.string},t.a=g},612:function(e,t,a){"use strict";var r=a(530),n=a.n(r),i=a(532),s=a.n(i),c=a(10),o=a.n(c),l=a(526),d=a.n(l);t.a=function(e){var t=e.className,a=s()(e,["className"]);return o.a.createElement("input",n()({},a,{type:"checkbox",className:d()(t,"form-checkbox")}))}},641:function(e,t,a){"use strict";var r=a(530),n=a.n(r),i=a(532),s=a.n(i),c=a(10),o=a.n(c),l=a(526),d=a.n(l);t.a=function(e){var t=e.className,a=s()(e,["className"]);return o.a.createElement("input",n()({},a,{type:"radio",className:d()(t,"form-radio")}))}},645:function(e,t,a){"use strict";var r=a(10),n=a.n(r),i=a(12),s=a.n(i),c=a(35),o=a(1),l=a(534),d=a.n(l),u=a(526),m=a.n(u),p=function(e){var t=e.isPlaceholder,a=e.data,r=e.dimensionUnit,i=e.prefixActions,s=(e.hasError,e.children),c=e.translate;if(t)return n.a.createElement("div",{className:"packages__packages-row placeholder"},n.a.createElement("div",{className:"packages__packages-row-icon"},n.a.createElement(d.a,{icon:"product",size:18})),n.a.createElement("div",{className:"packages__packages-row-details"},n.a.createElement("div",{className:"packages__packages-row-details-name"},n.a.createElement("span",null))),n.a.createElement("div",{className:"packages__packages-row-dimensions"},n.a.createElement("span",null)),n.a.createElement("div",{className:"packages__packages-row-actions"},s));var l,u=function(){return n.a.createElement("div",{className:"packages__packages-row-actions"},s)};return n.a.createElement("div",{className:m()("packages__packages-row",{prefixed:i})},i?u():null,n.a.createElement("div",{className:"packages__packages-row-icon"},function(e){var t=e?"mail":"product";return n.a.createElement(d.a,{icon:t,size:18})}(a.is_letter)),n.a.createElement("div",{className:"packages__packages-row-details"},n.a.createElement("div",{className:"packages__packages-row-details-name"},(l=a.name)&&""!==Object(o.trim)(l)?l:c("Untitled"))),n.a.createElement("div",{className:"packages__packages-row-dimensions"},a.inner_dimensions," ",r),i?null:u())};p.propTypes={siteId:s.a.number.isRequired,isPlaceholder:s.a.bool,data:s.a.shape({name:s.a.string,is_letter:s.a.bool,inner_dimensions:s.a.string}).isRequired,prefixActions:s.a.bool,dimensionUnit:s.a.string},t.a=Object(c.localize)(p)},646:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var r=a(535);function n(e,t,a){return{type:r.L,successAction:e,failureAction:t,onlyPackages:a||!1}}},676:function(e,t,a){"use strict";var r=a(10),n=a.n(r),i=a(12),s=a.n(i),c=a(677),o=a.n(c),l=a(678),d=a.n(l),u={ups:o.a,usps:d.a},m=function(e){var t=e.carrier,a=e.size;if(!t||!u[t.toLowerCase()])return n.a.createElement("span",null);var r="".concat(function(e){switch(e){case"small":return 24;case"big":return 40;case"medium":default:return 30}}(a),"px");return n.a.createElement("div",{style:{width:r},className:"carrier-icon"},n.a.createElement("img",{src:u[t.toLowerCase()],alt:t,className:"carrier-icon__logo"}))};m.propTypes={carrier:s.a.string.isRequired,size:s.a.number},t.a=m},677:function(e,t,a){e.exports=a.p+"images/881843a7135b8abd4794bd2d33dc8b3c.png"},678:function(e,t,a){e.exports=a.p+"images/41c6838923ebde874f7fc71db18dcae5.png"},681:function(e,t,a){"use strict";var r=a(36),n=a.n(r),i=a(10),s=a.n(i),c=a(12),o=a.n(c),l=a(109),d=a(35),u=a(1),m=a(534),p=a.n(m),g=a(34),b=a.n(g),f=a(107),h=a.n(f),v=a(108),_=a.n(v),E=a(528),y=a.n(E),k=a(527),O=a.n(k),j=a(529),I=a.n(j),N=a(30),R=a(526),q=a.n(R),C=a(559),w=a(589);function x(e){return Object(u.get)(e,["currentUser","id"])}function S(e){var t=x(e);return t?function(e,t){return e.users.items[t]}(e,t):null}var P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){var r=S(a);return Object(u.get)(r,e,t)}};P("localeSlug"),P("localeVariant"),P("user_ip_country_code");P("date"),P("username"),P("email");P("email_verified",!1);var z=a(533),T=a(561);function A(e){var t=Object(z.a)(e);return t||1!==function(e){var t=S(e);return t?t.site_count||0:null}(e)||(t=function(e){var t=S(e);return Object(u.get)(t,"primary_blog",null)}(e)),Object(T.a)(e,t)}var D=a(539),U=function(e,t){return Object(u.get)(e,["extensions","woocommerce","sites",t,"settings","products"])},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(z.a)(e);return Object(u.isArray)(U(e,t))},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(z.a)(e);return D.b===U(e,t)};function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(z.a)(e),a=U(e,t);return Object(u.find)(a,function(e){return"woocommerce_dimension_unit"===e.id})||{}}var W=a(560),L=a(558),B=a(535),H=function(e){return function(t,a){if(!V(a(),e)&&!M(a(),e)){var r={type:B.N,siteId:e};return t(r),Object(W.a)(e).get("settings/products").then(function(a){t({type:B.O,siteId:e,data:a})}).catch(function(a){t(Object(L.a)(e,r,a))})}}},Y=function(e){function t(){return h()(this,t),y()(this,O()(t).apply(this,arguments))}return I()(t,e),_()(t,[{key:"componentDidMount",value:function(){var e=this.props.siteId;e&&this.props.fetchSettingsProducts(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.siteId!==this.props.siteId&&this.props.fetchSettingsProducts(e.siteId)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.noWrap,r=e.dimensions,n=e.onChange,i=e.translate,c=e.dimensionsUnit,o=q()("form-dimensions-input",t,{"no-wrap":a});return s.a.createElement("div",{className:o},s.a.createElement(C.a,{name:"length",placeholder:i("L",{comment:"Length placeholder for dimensions input"}),type:"number",value:r&&r.length||"",onChange:n,className:"form-dimensions-input__length"}),s.a.createElement(C.a,{name:"width",placeholder:i("W",{comment:"Width placeholder for dimensions input"}),type:"number",value:r&&r.width||"",onChange:n,className:"form-dimensions-input__width"}),s.a.createElement(w.a,{name:"height",placeholder:i("H",{comment:"Height placeholder for dimensions input"}),suffix:c,type:"number",noWrap:a,value:r&&r.height||"",onChange:n,className:"form-dimensions-input__height"}))}}]),t}(i.Component);b()(Y,"propTypes",{className:o.a.string,dimensions:o.a.shape({width:o.a.string,height:o.a.string,length:o.a.string}),dimensionsUnit:o.a.string,onChange:o.a.func.isRequired,noWrap:o.a.bool}),b()(Y,"defaultProps",{value:"",className:"",onChange:u.noop,noWrap:!1});var $=Object(l.b)(function(e,t){var a=t.dimensionsUnit,r=A(e);if(!a){var n=r&&F(e,r.ID);a=n&&n.value||"in"}return{siteId:r&&r.ID,dimensionsUnit:a}},function(e){return Object(N.b)({fetchSettingsProducts:H},e)})(Object(d.localize)(Y)),G=a(542),K=a(545),J=a(564),Q=a(549),X=/^\.\d+$/,Z=/^\d+\.$/,ee=function(e){return e=Object(u.trim)(e),X.test(e)?e="0"+e:Z.test(e)&&(e=e.slice(0,e.length-1)),e},te=/^\s*(\S+)\s*x\s*(\S+)\s*x\s*(\S+)\s*$/,ae=/^\s*(\S+)?\s*x\s*(\S+)?\s*x\s*(\S+)?\s*$/,re=function(e){return isNaN(e)?"":0>=e?"":e},ne=function(e){return Object(u.trim)(e)},ie=ee,se=function(e){var t=te.exec(e);return t?[t[1],t[2],t[3]].map(ee).join(" x "):e},ce=function(e){var t="",a="",r="",n=ae.exec(e);return n&&4===n.length&&(t=re(n[1]),a=re(n[2]),r=re(n[3])),{length:t,width:a,height:r}},oe=function(e){var t=e.siteId,a=e.form,r=e.setModalErrors,n=e.updatePackagesField,i=e.translate,c=a.mode,o=a.modalErrors,l=a.dimensionUnit,d=a.weightUnit,m=a.packageData,p=m.name,g=m.inner_dimensions,f=m.box_weight,h=m.is_letter,v=function(e,a){r(t,Object(u.omit)(o,e)),n(t,b()({},e,a))},_=function(e){var t=e.target.name,a=e.target.value;v(t,a)},E=function(e,t){var a=t||i("Invalid value."),r=""===Object(u.trim)(m[e])?i("This field is required."):a;return o[e]?s.a.createElement(Q.a,{text:r}):null},y=function(e){n(t,{is_letter:"envelope"===e.target.value})};return s.a.createElement("div",{className:"packages__properties-group"},"add-custom"===c?s.a.createElement(G.a,null,s.a.createElement(K.a,{htmlFor:"package_type"},i("Type of package")),s.a.createElement(J.a,{id:"package_type",onChange:y,value:h?"envelope":"box"},s.a.createElement("option",{value:"box"},i("Box")),s.a.createElement("option",{value:"envelope"},i("Envelope")))):null,s.a.createElement(G.a,null,s.a.createElement(K.a,{htmlFor:"name"},i("Package name")),s.a.createElement(C.a,{id:"name",name:"name",placeholder:i("Unique package name"),value:p||"",onChange:_,isError:o.name}),E("name",i("This field must be unique"))),s.a.createElement(G.a,{className:"packages__add-package-weight-group"},s.a.createElement("div",{className:"packages__add-package-weight"},s.a.createElement(K.a,null,i("Dimensions (L x W x H)")),function(e,t,a,r){var n=ce(t),i=n.length,c=n.width,o=n.height;return s.a.createElement($,{dimensionsUnit:a,dimensions:{width:c,height:o,length:i},onChange:function(t){var a=t.target.name,n=t.target.value;r(e,["length"===a?n:i,"width"===a?n:c,"height"===a?n:o].join(" x "))}})}("inner_dimensions",g,l,v),E("inner_dimensions")),s.a.createElement("div",{className:"packages__add-package-weight"},s.a.createElement(K.a,{htmlFor:"box_weight"},i("Weight of empty package")),s.a.createElement(w.a,{id:"box_weight",name:"box_weight",placeholder:i("0.0"),value:f||"",onChange:_,isError:o.box_weight,type:"number",noWrap:!0,suffix:d}),E("box_weight"))))};oe.propTypes={siteId:o.a.number.isRequired,form:o.a.object.isRequired,updatePackagesField:o.a.func.isRequired,packageData:o.a.shape({name:o.a.string.isRequired,inner_dimensions:o.a.string.isRequired,box_weight:o.a.number.isRequired,is_user_defined:o.a.bool.isRequired,is_letter:o.a.bool.isRequired}),setModalErrors:o.a.func.isRequired};var le=Object(d.localize)(oe),de=a(112),ue=a.n(de),me=Object(u.memoize)(function(e){return ue()(e,{greedy:!0})}),pe=function(e){return e&&""!==Object(u.trim)(e)?e:null},ge=function(e,t){return e=pe(e),Object(u.some)(t,function(t){return t===e})?null:e},be=/^\d+(\.\d+)?$/,fe=function(e){return be.test(e)?Number.parseFloat(e):null},he=function(e,t,a){var r,n=me(a);return n(function(e,t){var a=fe(e.box_weight),r=fe(e.max_weight);a&&r&&r<=a&&(r=null);var n={name:ge(e.name,t),inner_dimensions:e.inner_dimensions,outer_dimensions:pe(e.outer_dimensions),box_weight:a,max_weight:r};return Object(u.omitBy)(n,function(e){return null===e})}(e,t)),r=n.errors,Object(u.reduce)(r,function(e,t){if(t.field){var a,r=t.field.replace("data.","");Object.assign(e,(a={},b()(a,r,!0),b()(a,"any",!0),a))}return e},{})},ve=a(552),_e=a(548),Ee=a(578),ye=function(e){var t=e.className,a=e.disabled,r=e.id,n=e.onToggle,i=e.readOnly,c=e.selectedElements,o=e.totalElements,l=c&&c===o,d=c&&c<o,u=q()("bulk-select__box",{"is-checked":l}),m=q()("bulk-select__some-checked-icon",{"is-disabled":a}),g=q()("bulk-select",t);return s.a.createElement("span",{className:g},s.a.createElement("span",{className:"bulk-select__container"},s.a.createElement("input",{id:r,type:"checkbox",className:u,onChange:function(e){i||n(!(d||l),e)},checked:l,disabled:a}),d?s.a.createElement(p.a,{className:m,icon:"minus-small",size:18}):null))};ye.propTypes={totalElements:o.a.number.isRequired,selectedElements:o.a.number.isRequired,onToggle:o.a.func,readOnly:o.a.bool,className:o.a.string,disabled:o.a.bool};var ke=ye,Oe=a(587),je=a(612),Ie=a(645),Ne=a(541),Re=function(e){var t=e.siteId,a=e.form,r=e.toggleAll,n=e.togglePackage,i=e.currentlyEditingPredefinedPackages,c=e.translate,o=a.dimensionUnit,l=function(e){var a="group-".concat(e.serviceId,"-").concat(e.groupId);return s.a.createElement("div",{className:"packages__group-header"},s.a.createElement("label",{htmlFor:a,onClick:function(e){return e.stopPropagation()}},s.a.createElement(ke,{id:a,totalElements:e.total,selectedElements:e.selected,onToggle:function(a,n){n.stopPropagation(),r(t,e.serviceId,e.groupId,n.target.checked)},className:"packages__group-header-checkbox"}),e.title))};return s.a.createElement("div",null,function(){var e=[];return Object(u.forEach)(i,function(a,r){var i,d,u=(i=a.selected,d=a.total,i===d?c("All packages selected"):c("%(selectedCount)d package selected","%(selectedCount)d packages selected",{count:i,args:{selectedCount:i}}));e.push(s.a.createElement(Oe.a,{className:"packages__predefined-packages",key:r,header:l(a),summary:u,expandedSummary:u,clickableHeader:!0,expanded:!1,screenReaderText:c("Expand Services"),icon:"chevron-down"},function(e){return e.packages.map(function(e,a){return s.a.createElement(Ie.a,{key:a,siteId:t,data:e,dimensionUnit:o,prefixActions:!0},s.a.createElement(je.a,{checked:e.selected,onChange:function(){return n(t,e.serviceId,e.id)}}))})}(a)))}),e}())};Re.propTypes={siteId:o.a.number.isRequired,toggleAll:o.a.func.isRequired,togglePackage:o.a.func.isRequired,form:o.a.shape({dimensionUnit:o.a.string}).isRequired};var qe=Object(l.b)(function(e){return{currentlyEditingPredefinedPackages:Object(Ne.c)(e)}})(Object(d.localize)(Re)),Ce=a(531),we=a.n(Ce),xe=function(e){function t(){var e,a;h()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=y()(this,(e=O()(t)).call.apply(e,[this].concat(n))),b()(we()(a),"handleKeyEvent",function(e){switch(e.keyCode){case 13:case 32:e.preventDefault(),document.activeElement.click()}}),a}return I()(t,e),_()(t,[{key:"render",value:function(){var e=q()({"segmented-control__item":!0,"is-selected":this.props.selected}),t=q()("segmented-control__link",b()({},"item-index-".concat(this.props.index),null!=this.props.index));return s.a.createElement("li",{className:e},s.a.createElement("a",{href:this.props.path,className:t,onClick:this.props.onClick,title:this.props.title,"data-e2e-value":this.props.value,role:"radio",tabIndex:0,"aria-checked":this.props.selected,onKeyDown:this.handleKeyEvent},s.a.createElement("span",{className:"segmented-control__text"},this.props.children)))}}]),t}(s.a.Component);b()(xe,"propTypes",{children:o.a.node.isRequired,path:o.a.string,selected:o.a.bool,title:o.a.string,value:o.a.string,onClick:o.a.func,index:o.a.number}),b()(xe,"defaultProps",{selected:!1});var Se=xe,Pe=function(e){function t(){var e,a;h()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=y()(this,(e=O()(t)).call.apply(e,[this].concat(n))),b()(we()(a),"state",{selected:a.props.initialSelected||a.props.options[0].value}),a}return I()(t,e),_()(t,[{key:"renderOptions",value:function(){var e=this;return this.props.options.map(function(t,a){return s.a.createElement(Se,{index:a,key:a,onClick:function(){e.setState({selected:t.value}),e.props.onSelect&&e.props.onSelect(t)},path:t.path,selected:e.state.selected===t.value,value:t.value},t.label)})}},{key:"render",value:function(){var e={"is-compact":this.props.compact,"is-primary":this.props.primary};return s.a.createElement("ul",{className:q()("segmented-control",e,this.props.className),style:this.props.style,role:"radiogroup"},this.renderOptions())}}]),t}(s.a.Component);b()(Pe,"propTypes",{className:o.a.string,compact:o.a.bool,initialSelected:o.a.string,onSelect:o.a.func,options:o.a.arrayOf(o.a.shape({value:o.a.string.isRequired,label:o.a.string.isRequired,path:o.a.string})).isRequired,style:o.a.object});var ze=a(646),Te=a(553),Ae=a(557),De=function(e){var t,a=e.siteId,r=e.form,n=e.predefinedPackagesSummary,i=e.setModalErrors,c=e.savePackage,o=e.savePredefinedPackages,l=e.dismissModal,d=e.removePackage,m=e.setAddMode,g=e.updatePackagesField,b=e.translate,f=r.showModal,h=r.mode,v=r.packages,_=r.packageSchema,E=r.predefinedSchema,y=r.packageData,k=y.index,O=v.custom,j="edit"===h,I="add-custom"===h,N="add-predefined"===h,R=function(){var t={duration:5e3};e.createWcsShippingSaveActionList(function(){return"function"===typeof e.onSaveSuccess&&"name"in y&&e.onSaveSuccess(y.name),e.successNotice(b("Your shipping packages have been saved."),t)},function(){return e.errorNotice(b("Unable to save your shipping packages. Please try again."),t)},!0)},q=function(){l(a)},C=b(j?"Edit package":"Add a package"),w=I||N,x=I||j,S=N;t=I||N&&0===n.removed?b("Add package","Add packages",{count:I?1:n.added}):b("Done");var P=[s.a.createElement(Ee.a,{onClick:function(){if(N)return o(a),void(e.persistOnSave&&R());var t="number"===typeof y.index?O[y.index].name:null,r=Object(u.concat)(Object(u.difference)(O.map(function(e){return e.name}),[t]),Object(u.flatten)(Object(u.map)(E,function(e){return Object(u.map)(e,function(e){return e.definitions})})),["individual"]),n=Object.assign({},y,{name:ne(y.name),inner_dimensions:se(y.inner_dimensions),outer_dimensions:se(y.outer_dimensions),box_weight:ie(y.box_weight),max_weight:0}),s=he(n,r,_);if(s.any)return g(a,n),void i(a,s);c(a,n),e.persistOnSave&&R()}},t),s.a.createElement(Ee.a,{onClick:q,isPrimary:!1},b("Cancel"))];return j&&P.unshift({action:"delete",label:s.a.createElement("span",null,b("{{icon/}} Delete this package",{components:{icon:s.a.createElement(p.a,{icon:"trash"})}})),onClick:function(){return d(a,k)},additionalClassNames:"packages__delete is-scary is-borderless"}),s.a.createElement(ve.a,{isVisible:f,additionalClassNames:"packages__add-edit-dialog woocommerce wcc-root",onClose:q,buttons:P},s.a.createElement(_e.a,{className:"packages__add-edit-title"},C),w&&s.a.createElement(Pe,{primary:!0,className:"packages__mode-select",initialSelected:h,onSelect:function(e){m(a,e.value)},options:[{value:"add-custom",label:"Custom package"},{value:"add-predefined",label:"Service package"}]}),x&&s.a.createElement(le,e),S&&s.a.createElement(qe,e))};De.propTypes={siteId:o.a.number.isRequired,dismissModal:o.a.func.isRequired,form:o.a.object.isRequired,updatePackagesField:o.a.func.isRequired,savePackage:o.a.func.isRequired,packageData:o.a.shape({index:o.a.number.isRequired}),setModalErrors:o.a.func.isRequired,removePackage:o.a.func.isRequired,setAddMode:o.a.func.isRequired};t.a=Object(l.b)(function(e){return{predefinedPackagesSummary:Object(Ne.f)(e)}},function(e){return Object(N.b)(n()({createWcsShippingSaveActionList:ze.a,errorNotice:Te.a,successNotice:Te.d},Ae),e)})(Object(d.localize)(De))},781:function(e,t,a){},782:function(e,t,a){},788:function(e,t,a){"use strict";a.r(t);var r=a(10),n=a.n(r),i=a(12),s=a.n(i),c=a(109),o=a(30),l=a(35),d=a.n(l),u=a(534),m=a.n(u),p=a(552),g=a(36),b=a.n(g),f=a(530),h=a.n(f),v=a(1),_=a(34),E=a.n(_),y=a(585),k=a(563),O=a(578),j=a(590),I=a(556),N=a(526),R=a.n(N),q=a(545),C=a(641),w=function(e){var t=e.values,a=e.originalValues,r=e.countryNames,i=e.stateNames,s=e.expandStateName,c=void 0!==s&&s;a=a||{};var o=t.state,l=t.country,d="";o&&(d=(c&&i||{})[o]||o);var u=r[l]||l,m=function(e){var r=t[e];if(!r)return"";var i=a[e],s=i&&i.toLowerCase()!==r.toLowerCase(),c=r;switch(e){case"state":c=d;break;case"country":c=u}return n.a.createElement("span",{key:e,className:s?"highlight":""},c)},p=m("state"),g=Object(v.filter)([m("city"),p?", ":"",p," ",m("postcode")]);return n.a.createElement("div",{className:"address-step__summary"},n.a.createElement("p",null,m("name")),n.a.createElement("p",null,m("address")," ",m("address_2")),n.a.createElement("p",null,g),n.a.createElement("p",null,m("country")))},x=function(e){return n.a.createElement(q.a,{className:R()("address-step__suggestion",{"is-selected":e.checked})},n.a.createElement(C.a,Object(v.omit)(e,"children")),e.children)},S=function(e){var t=e.values,a=e.normalized,r=e.selectNormalized,i=e.selectNormalizedAddress,s=e.editAddress,c=e.confirmAddressSuggestion,o=e.countryNames,l=e.translate,d=function(e){return function(){return i(e)}};return n.a.createElement("div",null,n.a.createElement(k.a,{className:"error-notice",status:"is-info",showDismiss:!1},l("We have slightly modified the address entered. If correct, please use the suggested address to ensure accurate delivery.")),n.a.createElement("div",{className:"address-step__suggestion-container"},n.a.createElement(x,{checked:!r,onChange:d(!1)},n.a.createElement("span",{className:"address-step__suggestion-title"},l("Address entered")),n.a.createElement(w,{values:t,countryNames:o})),n.a.createElement(x,{checked:r,onChange:d(!0)},n.a.createElement("span",{className:"address-step__suggestion-title"},l("Suggested address")),n.a.createElement(w,{values:a,originalValues:t,countryNames:o}))),n.a.createElement("div",{className:"address-step__actions"},n.a.createElement(O.a,{type:"button",onClick:c},l("Use selected address")),n.a.createElement(O.a,{type:"button",onClick:s,borderless:!0},l("Edit address"))))};S.propTypes={values:s.a.object.isRequired,normalized:s.a.object,selectNormalized:s.a.bool.isRequired,selectNormalizedAddress:s.a.func.isRequired,confirmAddressSuggestion:s.a.func.isRequired,editAddress:s.a.func.isRequired,countryNames:s.a.object.isRequired};var P=Object(l.localize)(S),z=a(647),T=a.n(z),A=a(629),D=a(575),U=function(e){var t=e.values,a=e.countryNames,r=e.editUnverifiableAddress,i=e.confirmAddressSuggestion,s=e.translate,c=e.fieldErrors,o=D.a.includes(t.country)?T.a.format({scheme:"https",hostname:"tools.usps.com",pathname:"/zip-code-lookup.htm",query:{mode:"byAddress",companyName:t.company,address1:t.address,address2:t.address_2,city:t.city,state:"US"===t.country?t.state:t.country,zip:t.postcode}}):null,l=Object(v.invokeMap)([t.address+" "+t.address_2,t.city,t.state+" "+t.postcode],"trim").join(", "),d={scheme:"https",hostname:"www.google.com",pathname:"/maps/place/"+encodeURIComponent(l)},u=T.a.format(d);return n.a.createElement("div",null,function(){var e=function(){if(c.general)return c.general;for(var e in c)return c[e];return!1}();return e?n.a.createElement(k.a,{status:"is-error",showDismiss:!1},s("We were unable to automatically verify the address \u2014 %(error)s.",{args:{error:e}})):n.a.createElement(k.a,{status:"is-error",showDismiss:!1},s("We were unable to automatically verify the address."))}(),n.a.createElement("div",{className:"address-step__unverifiable-container"},n.a.createElement("div",{className:"address-step__unverifiable-info"},n.a.createElement("span",{className:"address-step__unverifiable-title"},s("Address entered")),n.a.createElement(w,{values:t,countryNames:a})),n.a.createElement("div",{className:"address-step__unverifiable-info"},n.a.createElement("p",null,s("Automatic verification failed for this address. It may still be a valid address \u2014 use the tools below to manually verify.")),o&&n.a.createElement(A.a,{icon:!0,href:o,target:"_blank"},s("Verify with USPS")),n.a.createElement(A.a,{icon:!0,href:u,target:"_blank"},s("View on Google Maps")))),n.a.createElement("div",{className:"address-step__actions"},n.a.createElement(O.a,{type:"button",onClick:r},s("Edit address")),n.a.createElement(O.a,{type:"button",onClick:i,borderless:!0},s("Use address as entered"))))};U.propTypes={values:s.a.object.isRequired,confirmAddressSuggestion:s.a.func.isRequired,editUnverifiableAddress:s.a.func.isRequired,countryNames:s.a.object.isRequired};var V=Object(l.localize)(U),M=a(600),F=a(540),W=a(537),L=a(562),B=function(e){var t=e.siteId,a=e.orderId,r=e.values,i=e.isNormalized,s=e.normalized,c=e.selectNormalized,o=e.normalizationInProgress,l=e.allowChangeCountry,d=e.group,u=e.countryNames,m=e.stateNames,p=e.errors,g=e.isUsable,f=e.translate,h=Object(v.isObject)(p)?p:{},_=function(){return e.confirmAddressSuggestion(a,t,d)};if(i&&!h.phone){if(s&&!Object(v.isEqual)(s,r)){return n.a.createElement(P,{values:r,normalized:s,selectNormalized:c,selectNormalizedAddress:function(r){return e.selectNormalizedAddress(a,t,d,r)},confirmAddressSuggestion:_,editAddress:function(){return e.editAddress(a,t,d)},countryNames:u})}if(0<Object(v.size)(h)){return n.a.createElement(V,{values:r,confirmAddressSuggestion:_,editUnverifiableAddress:function(){return e.editUnverifiableAddress(a,t,d)},countryNames:u,fieldErrors:h})}}var E=h.general&&1===Object(v.size)(h),N=function(e){return d+"_"+e},R=function(e){return r[e]?Object(M.a)(r[e]):""},q=function(r){return function(n){return e.updateAddressValue(a,t,d,r,n)}};return n.a.createElement("div",null,n.a.createElement(y.a,{id:N("name"),title:f("Name"),value:R("name"),updateValue:q("name"),error:h.name}),n.a.createElement("div",{className:"address-step__company-phone"},n.a.createElement(y.a,{id:N("company"),title:f("Company"),value:R("company"),updateValue:q("company"),className:"address-step__company",error:h.company}),n.a.createElement(y.a,{id:N("phone"),title:f("Phone"),value:R("phone"),updateValue:q("phone"),className:"address-step__phone",error:h.phone})),E&&n.a.createElement(k.a,{status:"is-error",showDismiss:!1},f("%(message)s. Please modify the address and try again.",{args:{message:h.general}})),n.a.createElement(y.a,{id:N("address"),title:f("Address"),value:R("address"),updateValue:q("address"),className:"address-step__address-1",error:h.address||E}),n.a.createElement(y.a,{id:N("address_2"),value:R("address_2"),updateValue:q("address_2"),error:h.address_2||E}),n.a.createElement("div",{className:"address-step__city-state-postal-code"},n.a.createElement(y.a,{id:N("city"),title:f("City"),value:R("city"),updateValue:q("city"),className:"address-step__city",error:h.city||E}),m?n.a.createElement(j.a,{id:N("state"),title:f("State"),value:R("state"),valuesMap:b()({"":e.translate("Select one\u2026")},m),updateValue:q("state"),className:"address-step__state",error:h.state||E}):n.a.createElement(y.a,{id:N("state"),title:f("State"),value:R("state"),updateValue:q("state"),className:"address-step__state",error:h.state||E}),n.a.createElement(y.a,{id:N("postcode"),title:f("ZIP/Postal code"),value:R("postcode"),updateValue:q("postcode"),className:"address-step__postal-code",error:h.postcode||E})),n.a.createElement(j.a,{id:N("country"),title:f("Country"),value:R("country"),disabled:!l,valuesMap:u,updateValue:q("country"),error:h.country||E}),n.a.createElement("div",{className:"address-step__actions"},n.a.createElement(O.a,{type:"button",disabled:Object(I.a)(p)||o,onClick:function(){return e.submitAddressForNormalization(a,t,d)}},f("Verify address")),n.a.createElement(O.a,{type:"button",disabled:!g,onClick:_,borderless:!0},f("Use address as entered"))))};B.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,values:s.a.object.isRequired,isNormalized:s.a.bool.isRequired,normalized:s.a.object,selectNormalized:s.a.bool.isRequired,allowChangeCountry:s.a.bool.isRequired,errors:s.a.oneOfType([s.a.object,s.a.bool]).isRequired,group:s.a.string.isRequired,countryNames:s.a.object.isRequired,stateNames:s.a.object};var H=Object(c.b)(function(e,t){var a=t.group,r=t.orderId,n=t.siteId,i=Object(W.s)(e,r,n),s=Object(W.i)(e,r,n).form[a],c="origin"===a?Object(W.h)(e,n):Object(W.c)(e,n);return c[s.values.country]||(c=b()(E()({},s.values.country,Object(L.g)(e,s.values.country,n)),c)),b()({},s,{errors:i&&Object(W.f)(e,r,n)[a],isUsable:i&&Object(W.n)(e,r,a,n),countryNames:c,stateNames:Object(W.j)(e,s.values.country,n)})},function(e){return Object(o.b)({selectNormalizedAddress:F.C,confirmAddressSuggestion:F.g,editAddress:F.m,editUnverifiableAddress:F.n,updateAddressValue:F.V,submitAddressForNormalization:F.T},e)})(Object(l.localize)(B)),Y=a(107),$=a.n(Y),G=a(108),K=a.n(G),J=a(528),Q=a.n(J),X=a(527),Z=a.n(X),ee=a(529),te=a.n(ee),ae=(a(781),function(e){function t(){return $()(this,t),Q()(this,Z()(t).apply(this,arguments))}return te()(t,e),K()(t,[{key:"render",value:function(){var e=R()("spinner",this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return n.a.createElement("div",{className:e},n.a.createElement("div",{className:"spinner__outer",style:t},n.a.createElement("div",{className:"spinner__inner"})))}}]),t}(r.PureComponent));E()(ae,"propTypes",{className:s.a.string,size:s.a.number}),E()(ae,"defaultProps",{size:20});var re=a(587),ne=function(e){var t=e.isSuccess,a=e.isWarning,r=e.isError,i=e.isProgress,s=e.title,c=e.summary,o=e.children,l=e.expanded,d=e.toggleStep,u=e.translate,p=R()({"is-success":t,"is-warning":a,"is-error":r});c=n.a.createElement("span",{className:p},n.a.createElement("span",null,c),n.a.createElement("div",{className:"label-purchase-modal__step-status"},i?n.a.createElement(ae,{size:18}):n.a.createElement(m.a,{icon:t?"checkmark-circle":a?"notice-outline":r?"notice-outline":"",className:p,size:18})));var g=n.a.createElement("div",null,n.a.createElement("div",{className:"label-purchase-modal__step-title"},s));return n.a.createElement(re.a,{header:g,summary:c,expandedSummary:c,clickableHeader:!0,compact:!0,screenReaderText:u("Expand"),expanded:l,onClick:d},o)};ne.propTypes={isSuccess:s.a.bool,isWarning:s.a.bool,isError:s.a.bool,isProgress:s.a.bool,title:s.a.string.isRequired,summary:s.a.string,expanded:s.a.bool};var ie=Object(l.localize)(ne),se=a(565),ce=function(e,t,a,r,n,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=e.isNormalized,o=e.normalizationInProgress,l=e.normalized;if(o)return n("Validating address\u2026");if(Object(I.a)(r)||c&&!l)return r&&r.general||n("Invalid address");if(!c)return n("You've edited the address, please revalidate it for accurate rates");var d=Object(se.a)(e),u=d.city,m=d.postcode,p=d.state,g=d.country,b=u+", ";p&&(b+=(s?Object(L.h)(t,g,p,a):p)+"\xa0 ");return b+="US"===g?m.split("-")[0]:m,i&&(b+=", "+Object(L.g)(t,g,a)),b},oe=function(e){var t=e.normalizationInProgress,a=e.errors,r=e.isNormalized,n=e.values,i=e.normalized;return t?{isProgress:!0}:Object(I.a)(a)||r&&!i||!r?{isError:!0}:r?Object(v.isEqual)(n,i)?{isSuccess:!0}:{isWarning:!0}:{}},le=function(e){return n.a.createElement(ie,h()({title:e.title,summary:e.summary,expanded:e.expanded,toggleStep:function(){return e.toggleStep(e.orderId,e.siteId,e.type)}},e.normalizationStatus),n.a.createElement(H,{group:e.type,siteId:e.siteId,orderId:e.orderId}))};le.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,type:s.a.string.isRequired,title:s.a.string.isRequired,summary:s.a.string.isRequired,expanded:s.a.bool,normalizationStatus:s.a.object.isRequired,toggleStep:s.a.func.isRequired};var de=Object(l.localize)(Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=t.type,i=t.translate,s=Object(W.s)(e,a,r),c=Object(W.i)(e,a,r),o=c.form[n],l=s&&Object(W.f)(e,a,r)[n],d="destination"===n&&c.form.origin.values.country!==o.values.country;return{errors:l,form:o,expanded:o.expanded,normalizationStatus:oe(b()({},o,{errors:l})),summary:ce(o,e,r,l,i,d)}},function(e){return Object(o.b)({toggleStep:F.U},e)})(le)),ue=a(544),me=function(e,t,a){var r=0;return Object(v.mapValues)(e,function(e){if("individual"===e.box_id)return e.items[0].name;r++;var n=t[e.box_id],i=n&&n.is_letter,s=!(!a||!n)&&n.name;return i?s?Object(l.translate)("Envelope %(packageNum)d: %(packageName)s",{args:{packageNum:r,packageName:s}}):Object(l.translate)("Envelope %(packageNum)d",{args:{packageNum:r}}):s?Object(l.translate)("Package %(packageNum)d: %(packageName)s",{args:{packageNum:r,packageName:s}}):Object(l.translate)("Package %(packageNum)d",{args:{packageNum:r}})})},pe=a(541),ge=function(e){var t,a,r=e.orderId,i=e.siteId,s=e.selected,c=e.all,o=e.errors,l=e.packageId,d=e.translate,u=function(t,a,s){var c=0<Object.keys(o[t]||{}).length;return n.a.createElement("div",{className:"packages-step__list-item",key:t},n.a.createElement(ue.a,{borderless:!0,className:R()("packages-step__list-package",{"is-selected":l===t}),onClick:function(){return e.openPackage(r,i,t)}},n.a.createElement("span",{className:"packages-step__list-package-name"},a),function(e,t){return e?n.a.createElement(m.a,{icon:"notice-outline",className:"is-error",size:18}):void 0===t?null:n.a.createElement("span",{className:"packages-step__list-package-count"},t)}(c,s)))},p=me(s,c,!1),g=[],b=[];return Object.keys(s).forEach(function(e){var t=s[e];"individual"===t.box_id?b.push(u(e,t.items[0].name)):g.push(u(e,p[e],t.items.length))}),(g.length||b.length)&&g.unshift((t="boxed-header",a=d("Packages to be Shipped"),n.a.createElement("div",{className:"packages-step__list-item packages-step__list-header",key:t},a))),n.a.createElement("div",{className:"packages-step__list"},g,b)};ge.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,selected:s.a.object.isRequired,all:s.a.object.isRequired,packageId:s.a.string.isRequired,errors:s.a.object,openPackage:s.a.func.isRequired};var be=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r);return{errors:n&&Object(W.f)(e,a,r).packages,packageId:i.openedPackageId,selected:i.form.packages.selected,all:Object(pe.a)(e,r)}},function(e){return Object(o.b)({openPackage:F.w},e)})(Object(l.localize)(ge)),fe=a(549),he=a(550),ve=a(589),_e=a(561),Ee=function(e){var t=e.orderId,a=e.siteId,r=e.item,i=e.itemIndex,s=e.translate,c=function(){return e.openItemMove(t,a,i)},o=r.url?n.a.createElement("a",{href:r.url,target:"_blank",rel:"noopener noreferrer"},r.name):r.name;return n.a.createElement("div",{key:i,className:"packages-step__item"},n.a.createElement("div",{className:"packages-step__item-name"},n.a.createElement("span",null,o),"attributes"in r?n.a.createElement("p",null,r.attributes):""),n.a.createElement("div",{className:"packages-step__item-weight"},"weight"in r?n.a.createElement("p",null,r.weight):""),n.a.createElement("div",{className:"packages-step__item-qty"},"quantity"in r?n.a.createElement("p",null,r.quantity):""),n.a.createElement("div",{className:"packages-step__item-move"},n.a.createElement("a",{href:"#",onClick:c},s("Move"))))};Ee.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,item:s.a.object.isRequired,itemIndex:s.a.number.isRequired,openItemMove:s.a.func.isRequired};var ye=Object(c.b)(function(e,t){var a=t.siteId;return{site:Object(_e.a)(e,a)}},function(e){return Object(o.b)({openItemMove:F.v},e)})(Object(l.localize)(Ee)),ke=a(564),Oe=a(688),je=a(681),Ie=a(557),Ne=function(e,t){return[e.length,e.width,e.height].map(function(e){return"".concat(e," ").concat(t)}).join(" x ")},Re=function(e){var t=e.siteId,a=e.orderId,r=e.packageId,i=e.pckg,s=e.dimensionUnit,c=e.packageGroups,o=e.translate,l=e.pckgErrors,d=e.isIndividualPackage,u=function(e){var t=Object(Oe.a)(e),a=e.id||e.name;return n.a.createElement("option",{value:a,key:a},e.name," - ",Ne(t,s))};if(!r)return null;if(d){var p=R()({"is-error":l.dimensions});return n.a.createElement("div",null,n.a.createElement("div",{className:"packages-step__package-items-header"},n.a.createElement(he.a,null,o("Individually Shipped Item"))),n.a.createElement("span",{className:"packages-step__package-item-description"},o("Item Dimensions")," -"," "),n.a.createElement("span",{className:p},Ne(i,s)),l.dimensions&&n.a.createElement(fe.a,{text:l.dimensions}))}var g=Object(v.reduce)(c,function(e,t){return e+t.definitions.length},0);return n.a.createElement("div",null,n.a.createElement("div",{className:"packages-step__package-items-header packages-step__package-details-header"},n.a.createElement(he.a,null,o("Package details")),0!==g?n.a.createElement("a",{href:"#",onClick:function(){return e.addPackage(t)}},o("Add package")):null),0===g?n.a.createElement("div",{className:"packages-step__no-packages"},n.a.createElement(m.a,{icon:"product",size:18}),n.a.createElement("a",{href:"#",onClick:function(){return e.addPackage(t)}},o("Select a package type"))):n.a.createElement("div",{className:"packages-step__with-packages"},n.a.createElement(ke.a,{onChange:function(n){e.setPackageType(a,t,r,n.target.value)},value:i.box_id,isError:l.box_id||l.dimensions},n.a.createElement("option",{value:"not_selected",key:"not_selected"},o("Please select a package"))," ",Object(v.map)(c,function(e,t){return Object(v.isEmpty)(e.definitions)?null:n.a.createElement("optgroup",{label:e.title,key:t},Object(v.map)(e.definitions,u))}))),n.a.createElement(je.a,h()({persistOnSave:!0},e,{onSaveSuccess:function(n){e.setPackageType(a,t,r,n)}})))};Re.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,packageId:s.a.string.isRequired,pckgErrors:s.a.object.isRequired,pckg:s.a.object.isRequired};var qe=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r),s=n?i.storeOptions:{},c=Object(pe.e)(e,r)||{};return{dimensionUnit:s.dimension_unit,packageGroups:Object(pe.d)(e,a,r),form:c}},function(e){return Object(o.b)({setPackageType:F.P,addPackage:Ie.addPackage},e)})(Object(l.localize)(Re)),Ce=a(543),we=function(e){var t=e.siteId,a=e.orderId,r=e.packageId,i=e.selected,s=e.weightUnit,c=e.errors,o=e.translate,l=e.userMeta,d=c[r]||{};if(!r)return null;var u=i[r];"not_selected"===u.box_id&&l.last_box_id&&e.setPackageType(a,t,r,l.last_box_id);var m="individual"===u.box_id,p=function(e,i){return n.a.createElement(ye,{siteId:t,orderId:a,key:i,item:e,itemIndex:i,packageId:r,showRemove:!0,isIndividualPackage:m})},g=function(){return e.openAddItem(a,t)},b=function(){return m?null:n.a.createElement(ue.a,{className:"packages-step__add-item-btn",compact:!0,onClick:g},o("Add items"))};return n.a.createElement("div",{className:"packages-step__package"},n.a.createElement("div",null,n.a.createElement("div",{className:"packages-step__package-items-header-name"},n.a.createElement(he.a,null,o("Items to fulfill"))),n.a.createElement("div",{className:"packages-step__package-items-header-weight"},n.a.createElement(he.a,null,o("Weight"))),n.a.createElement("div",{className:"packages-step__package-items-header-qty"},n.a.createElement(he.a,null,o("QTY"))),n.a.createElement("div",{className:"packages-step__package-items-header-move"}),function(){var e=Object(v.some)(i,function(e,t){return r!==t&&e.items.length});if(!u.items.length)return n.a.createElement("div",{className:"packages-step__add-item-row"},n.a.createElement("div",{className:"packages-step__no-items-message"},o("There are no items in this package."),e?b():null));var t=u.items.map(p);return e&&t.push(n.a.createElement("div",{key:t.length,className:"packages-step__add-item-row"},b())),t}()),n.a.createElement(qe,{siteId:t,orderId:a,isIndividualPackage:m,pckgErrors:d,pckg:u,packageId:r,lastBoxId:l.last_box_id}),n.a.createElement("div",{className:"packages-step__package-weight"},n.a.createElement(q.a,{htmlFor:"weight_".concat(r)},o("Total Weight (with package)")),n.a.createElement(ve.a,{id:"weight_".concat(r),placeholder:o("0"),value:u.weight||"",onChange:function(n){e.updatePackageWeight(a,t,r,n.target.value)},isError:Boolean(d.weight),type:"number",noWrap:!0,suffix:s}),d.weight&&n.a.createElement(fe.a,{text:d.weight})))};we.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,packageId:s.a.string.isRequired,selected:s.a.object.isRequired,updatePackageWeight:s.a.func.isRequired,dimensionUnit:s.a.string.isRequired,weightUnit:s.a.string.isRequired,errors:s.a.object.isRequired,openAddItem:s.a.func.isRequired,userMeta:s.a.object.isRequired};var xe=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r),s=n?i.storeOptions:{},c=n&&Object(W.f)(e,a,r).packages,o=n?Object(Ce.i)(e,r):{};return{siteId:r,errors:c,packageId:i.openedPackageId,selected:i.form.packages.selected,dimensionUnit:s.dimension_unit,weightUnit:s.weight_unit,userMeta:o}},function(e){return Object(o.b)(b()({updatePackageWeight:F.W,openAddItem:F.t,setPackageType:F.P},Ie),e)})(Object(l.localize)(we)),Se=a(548),Pe=function(e){e.site;var t=e.siteId,a=e.orderId,r=e.showItemMoveDialog,i=e.movedItemIndex,s=e.targetPackageId,c=e.openedPackageId,o=e.selected,l=e.all,d=e.translate;if(-1===i||!r)return null;var u,m,g=function(r,i){return n.a.createElement(q.a,{key:r,className:"packages-step__dialog-package-option"},n.a.createElement(C.a,{checked:r===s,onChange:function(){return e.setTargetPackage(a,t,r)}}),i)},b=o[c],f=b.items[i],h=(u=f.product_id,"post.php?post=".concat(u,"&action=edit")),v=n.a.createElement("a",{href:h,target:"_blank",rel:"noopener noreferrer"},f.name),_=me(o,l,!0);m=""===c?d("{{itemLink/}} is currently saved for a later shipment.",{components:{itemLink:v}}):"individual"===b.box_id?d("{{itemLink/}} is currently shipped in its original packaging.",{components:{itemLink:v}}):d("{{itemLink/}} is currently in {{pckg/}}.",{components:{itemLink:v,pckg:n.a.createElement("span",{className:"packages-step__dialog-package-name"},_[c])}});var E=function(){return e.closeItemMove(a,t)},y=[{action:"cancel",label:d("Cancel"),onClick:E},{action:"move",label:d("Submit"),isPrimary:!0,disabled:s===c,onClick:function(){return e.moveItem(a,t,c,i,s)}}];return n.a.createElement(p.a,{isVisible:r,isFullScreen:!1,onClickOutside:E,onClose:E,buttons:y,additionalClassNames:"wcc-root woocommerce packages-step__dialog"},n.a.createElement(Se.a,null,d("Move item")),n.a.createElement("div",{className:"packages-step__dialog-body"},n.a.createElement("p",null,m),n.a.createElement("p",null,d("Where would you like to move it?")),function(){var e=[];return Object.keys(o).forEach(function(t){var a=o[t];t!==c&&"individual"!==a.box_id&&e.push(g(t,_[t]))}),e}(),g("new",d("Add to a New Package")),b&&"individual"===b.box_id?null:g("individual",d("Ship in original packaging"))))};Pe.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,showItemMoveDialog:s.a.bool.isRequired,movedItemIndex:s.a.number.isRequired,targetPackageId:s.a.string,openedPackageId:s.a.string.isRequired,selected:s.a.object.isRequired,all:s.a.object.isRequired,moveItem:s.a.func.isRequired};var ze=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.i)(e,a,r);return{site:Object(_e.a)(e,r),showItemMoveDialog:n.showItemMoveDialog||!1,movedItemIndex:isNaN(n.movedItemIndex)?-1:n.movedItemIndex,targetPackageId:n.targetPackageId,openedPackageId:n.openedPackageId,selected:n.form.packages.selected,all:Object(pe.a)(e,r)}},function(e){return Object(o.b)({closeItemMove:F.d,setTargetPackage:F.S,moveItem:F.s},e)})(Object(l.localize)(Pe)),Te=a(612),Ae=function(e){var t=e.siteId,a=e.orderId,r=e.showAddItemDialog,i=e.addedItems,s=e.openedPackageId,c=e.selected,o=e.all,l=e.translate;if(!r)return null;var d=me(c,o,!0),u=function(e){return n.a.createElement("span",{className:"packages-step__dialog-package-name"},d[e])},m=[];Object.keys(c).forEach(function(r){if(r!==s){var o=0;c[r].items.forEach(function(s){m.push(function(r,s,c){var o=d[r]?l("%(item)s from {{pckg/}}",{args:{item:c.name},components:{pckg:u(r)}}):c;return n.a.createElement(q.a,{key:"".concat(r,"-").concat(s),className:"packages-step__dialog-package-option"},n.a.createElement(Te.a,{checked:Object(v.includes)(i[r],s),onChange:function(n){return e.setAddedItem(a,t,r,s,n.target.checked)}}),n.a.createElement("span",null,o))}(r,o,s)),o++})}});var g=function(){return e.closeAddItem(a,t)},b=[{action:"close",label:l("Close"),onClick:g},{action:"add",label:l("Add"),isPrimary:!0,disabled:!Object(v.some)(i,v.size),onClick:function(){return e.addItems(a,t,s)}}];return n.a.createElement(p.a,{isVisible:r,isFullScreen:!1,onClickOutside:g,onClose:g,buttons:b,additionalClassNames:"wcc-root woocommerce packages-step__dialog"},n.a.createElement(Se.a,null,l("Add item")),n.a.createElement("div",{className:"packages-step__dialog-body"},n.a.createElement("p",null,l("Which items would you like to add to {{pckg/}}?",{components:{pckg:u(s)}})),m))};Ae.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,showAddItemDialog:s.a.bool.isRequired,addedItems:s.a.object,openedPackageId:s.a.string.isRequired,selected:s.a.object.isRequired,all:s.a.object.isRequired,closeAddItem:s.a.func.isRequired,setAddedItem:s.a.func.isRequired,addItems:s.a.func.isRequired};var De=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.i)(e,a,r);return{showAddItemDialog:Boolean(n.showAddItemDialog),addedItems:n.addedItems,openedPackageId:n.openedPackageId,selected:n.form.packages.selected,all:Object(pe.a)(e,r)}},function(e){return Object(o.b)({closeAddItem:F.b,setAddedItem:F.E,addItems:F.a},e)})(Object(l.localize)(Ae)),Ue=function(e){var t=e.disabled,a=e.onClick,r=e.children;return n.a.createElement("div",{className:"step-confirmation-button"},n.a.createElement(O.a,{type:"button",onClick:a,disabled:Boolean(t),isPrimary:!0},r))};Ue.propTypes={disabled:s.a.bool,onClick:s.a.func.isRequired};var Ve=Ue,Me={g:0,oz:1,lbs:3,kg:3},Fe=function(e){var t=e.siteId,a=e.orderId,r=e.selected,i=e.weightUnit,s=e.errors,c=e.expanded,o=e.translate,d=Object.keys(r),u=d.reduce(function(e,t){return e+r[t].items.length},0),m=d.reduce(function(e,t){return e+r[t].weight},0),p=0<d.length;return n.a.createElement(ie,h()({title:o("Packaging")},function(){if(!p)return{isError:!0,summary:o("No packages selected")};var e=Object(v.find)(s,function(e){return!Object(v.isEmpty)(e)});if(e)return{isError:!0,summary:e[Object.keys(e)[0]]};var t=Object(l.numberFormat)(m,{decimals:Me[i]});return{isSuccess:!0,summary:1===d.length&&1===u?o("1 item in 1 package: %(weight)s %(unit)s total",{args:{weight:t,unit:i}}):1===d.length?o("%(itemsCount)d items in 1 package: %(weight)s %(unit)s total",{args:{itemsCount:u,weight:t,unit:i}}):o("%(itemsCount)d items in %(packageCount)d packages: %(weight)s %(unit)s total",{args:{itemsCount:u,packageCount:d.length,weight:t,unit:i}})}}(),{expanded:c,toggleStep:function(){return e.toggleStep(a,t,"packages")}}),n.a.createElement("div",{className:"packages-step__contents"},n.a.createElement(be,{siteId:e.siteId,orderId:e.orderId}),n.a.createElement(xe,{siteId:e.siteId,orderId:e.orderId})),n.a.createElement(Ve,{disabled:Object(I.a)(s)||!d.length,onClick:function(){return e.confirmPackages(a,t)}},o("Use these packages")),n.a.createElement(ze,{siteId:e.siteId,orderId:e.orderId}),n.a.createElement(De,{siteId:e.siteId,orderId:e.orderId}))};Fe.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,selected:s.a.object.isRequired,weightUnit:s.a.string.isRequired,errors:s.a.object.isRequired,expanded:s.a.bool};var We=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r),s=n?i.storeOptions:{};return{errors:n&&Object(W.f)(e,a,r).packages,weightUnit:s.weight_unit,expanded:i.form.packages.expanded,selected:i.form.packages.selected}},function(e){return Object(o.b)({toggleStep:F.U,confirmPackages:F.i},e)})(Object(l.localize)(Fe)),Le=a(542),Be=function(e){var t=e.id,a=e.title,r=e.value,i=e.placeholder,s=e.updateValue,c=e.error,o=e.className,l=e.weightUnit;return n.a.createElement(Le.a,{className:o},n.a.createElement(q.a,{htmlFor:t},a),n.a.createElement(ve.a,{noWrap:!0,suffix:l,id:t,name:t,type:"number",placeholder:i||"0.0",value:r,onChange:function(e){return s(e.target.value)},isError:Boolean(c)}),c&&"string"===typeof c&&n.a.createElement(fe.a,{text:c}))};Be.propTypes={weightUnit:s.a.string.isRequired,id:s.a.string.isRequired,title:s.a.node,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,placeholder:s.a.string,updateValue:s.a.func,error:s.a.oneOfType([s.a.string,s.a.bool]),className:s.a.string};var He=Be,Ye=a(532),$e=a.n(Ye);function Ge(e,t,a){if(!e)return null;if(!a)return e;var r=Object(v.get)(Object(v.find)(a,function(t){return t.code===e}),"label",e);return n.a.createElement("span",{className:"form-currency-input__affix"},r,n.a.createElement(m.a,{icon:"chevron-down",size:18,className:"form-currency-input__select-icon"}),n.a.createElement("select",{className:"form-currency-input__select",value:e,onChange:t},a.map(function(e){var t=e.code,a=e.label,r=void 0===a?t:a;return n.a.createElement("option",{key:t,value:t},r)})))}function Ke(e){var t=e.className,a=e.currencySymbolPrefix,r=e.currencySymbolSuffix,i=e.onCurrencyChange,s=e.currencyList,c=e.placeholder,o=void 0===c?"0.00":c,l=$e()(e,["className","currencySymbolPrefix","currencySymbolSuffix","onCurrencyChange","currencyList","placeholder"]),d=R()("form-currency-input",t),u=Ge(a,i,s),m=Ge(r,i,s);return n.a.createElement(ve.a,h()({},l,{type:"number",className:d,prefix:u,suffix:m,placeholder:o}))}var Je=s.a.shape({code:s.a.string.isRequired,label:s.a.string});Ke.propTypes={currencySymbolPrefix:s.a.oneOfType([s.a.string,s.a.object]),currencySymbolSuffix:s.a.oneOfType([s.a.string,s.a.object]),onCurrencyChange:s.a.func,currencyList:s.a.arrayOf(Je)};var Qe=Ke,Xe=function(e){var t=e.id,a=e.title,r=e.value,i=e.placeholder,s=e.updateValue,c=e.error,o=e.className;return n.a.createElement(Le.a,{className:o},n.a.createElement(q.a,{htmlFor:t},a),n.a.createElement(Qe,{id:t,name:t,currencySymbolPrefix:"$",placeholder:i||"0.00",value:r,onChange:function(e){return s(e.target.value)},isError:Boolean(c)}),c&&"string"===typeof c&&n.a.createElement(fe.a,{text:c}))};Xe.propTypes={id:s.a.string.isRequired,title:s.a.node,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,placeholder:s.a.string,updateValue:s.a.func,error:s.a.oneOfType([s.a.string,s.a.bool]),className:s.a.string};var Ze=Xe,et=a(789),tt=Object(l.localize)(function(e){var t=e.translate;return n.a.createElement("span",null,t("HS Tariff number")," (",n.a.createElement(A.a,{icon:!0,href:"https://docs.woocommerce.com/document/print-shipping-labels-woocommerce-shipping/#section-1",target:"_blank"},t("more info")),")")}),at=Object(l.localize)(function(e){var t=e.translate;return n.a.createElement("span",null,t("Origin country"),n.a.createElement(et.a,{text:t("Country where the product was manufactured or assembled")},n.a.createElement("span",null,n.a.createElement(m.a,{icon:"info-outline",size:18}))))}),rt=function(e){var t=e.translate,a=e.weightUnit;return n.a.createElement("div",{className:"customs-step__item-rows-header"},n.a.createElement("span",{className:"customs-step__item-description-column"},t("Description")),n.a.createElement("span",{className:"customs-step__item-code-column"},n.a.createElement(tt,null)),n.a.createElement("span",{className:"customs-step__item-weight-column"},t("Weight (%s per unit)",{args:[a]})),n.a.createElement("span",{className:"customs-step__item-value-column"},t("Value ($ per unit)")),n.a.createElement("span",{className:"customs-step__item-country-column"},n.a.createElement(at,null)))};rt.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,weightUnit:s.a.string.isRequired};var nt=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId;return{weightUnit:Object(W.i)(e,a,r).storeOptions.weight_unit}})(Object(l.localize)(rt)),it=function(e){var t=e.errors,a=e.packageId,r=e.productId,i=e.translate,s=e.description,c=e.defaultDescription,o=e.weight,l=e.value,d=e.tariffNumber,u=e.originCountry,m=e.countryNames,p=e.weightUnit;return n.a.createElement("div",{className:"customs-step__item-row"},n.a.createElement(y.a,{id:a+"_"+r+"_description",className:"customs-step__item-description-column",title:i("Description"),value:s,placeholder:c,updateValue:e.setCustomsItemDescription,error:t.description}),n.a.createElement(y.a,{id:a+"_"+r+"_tariffNumber",className:"customs-step__item-code-column",title:n.a.createElement(tt,null),placeholder:i("Optional"),value:d,updateValue:e.setCustomsItemTariffNumber,error:t.tariffNumber}),n.a.createElement(He,{weightUnit:p,id:a+"_"+r+"_weight",className:"customs-step__item-weight-column",title:i("Weight (per unit)"),value:o,updateValue:e.setCustomsItemWeight,error:t.weight}),n.a.createElement(Ze,{id:a+"_"+r+"_value",className:"customs-step__item-value-column",title:i("Value (per unit)"),value:l,updateValue:e.setCustomsItemValue,error:t.value}),n.a.createElement(j.a,{id:a+"_"+r+"_originCountry",className:"customs-step__item-country-column",title:n.a.createElement(at,null),value:u,updateValue:e.setCustomsItemOriginCountry,valuesMap:m}))};it.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,packageId:s.a.string.isRequired,productId:s.a.number.isRequired,description:s.a.string.isRequired,defaultDescription:s.a.string.isRequired,tariffNumber:s.a.string.isRequired,weight:s.a.oneOfType([s.a.string,s.a.number]).isRequired,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,originCountry:s.a.string.isRequired,errors:s.a.object,countryNames:s.a.object.isRequired,setCustomsItemDescription:s.a.func.isRequired,setCustomsItemTariffNumber:s.a.func.isRequired,setCustomsItemWeight:s.a.func.isRequired,setCustomsItemValue:s.a.func.isRequired,setCustomsItemOriginCountry:s.a.func.isRequired};var st=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=t.productId,i=Object(W.s)(e,a,r),s=Object(W.i)(e,a,r),c=s.form.customs.items[n];return{description:c.description,defaultDescription:c.defaultDescription,tariffNumber:c.tariffNumber||"",weight:c.weight,value:c.value,originCountry:c.originCountry,errors:i?Object(W.f)(e,a,r).customs.items[n]:{},countryNames:Object(L.d)(e,r),weightUnit:s.storeOptions.weight_unit}},function(e,t){var a=t.orderId,r=t.siteId,n=t.productId;return{setCustomsItemDescription:function(t){return e(Object(F.H)(a,r,n,t))},setCustomsItemTariffNumber:function(t){return e(Object(F.J)(a,r,n,t))},setCustomsItemWeight:function(t){return e(Object(F.L)(a,r,n,t))},setCustomsItemValue:function(t){return e(Object(F.K)(a,r,n,t))},setCustomsItemOriginCountry:function(t){return e(Object(F.I)(a,r,n,t))}}})(Object(l.localize)(it)),ct=a(610),ot=function(e){var t=e.siteId,a=e.orderId,r=e.errors,i=e.packageId,s=e.translate,c=e.contentsType,o=e.contentsExplanation,l=e.restrictionType,d=e.restrictionComments,u=e.abandonOnNonDelivery,m=e.itn,p=e.items;return n.a.createElement("div",{className:"customs-step__package"},n.a.createElement(q.a,{htmlFor:i+"_abandonOnNonDelivery",className:"customs-step__abandon-on-non-delivery"},n.a.createElement(ct.a,{id:i+"_abandonOnNonDelivery",checked:!u,onChange:function(){return e.setAbandonOnNonDelivery(!u)}}),n.a.createElement("span",null,s("Return to sender if package is unable to be delivered"))),n.a.createElement("div",{className:"customs-step__restrictions-row"},n.a.createElement("div",{className:"customs-step__contents-type"},n.a.createElement(j.a,{id:i+"_contentsType",title:s("Contents type"),value:c||"merchandise",updateValue:e.setContentsType,valuesMap:{merchandise:s("Merchandise"),documents:s("Documents"),gift:s("Gift"),sample:s("Sample"),other:s("Other\u2026")}}),"other"===c&&n.a.createElement(y.a,{id:i+"_contentsExplanation",title:s("Details"),value:o||"",updateValue:e.setContentsExplanation,error:r.contentsExplanation})),n.a.createElement("div",{className:"customs-step__restriction-type"},n.a.createElement(j.a,{id:i+"_restrictionType",title:s("Restriction type"),value:l||"none",updateValue:e.setRestrictionType,valuesMap:{none:s("None"),quarantine:s("Quarantine"),sanitary_phytosanitary_inspection:s("Sanitary / Phytosanitary inspection"),other:s("Other\u2026")}}),"other"===l&&n.a.createElement(y.a,{id:i+"_restrictionComments",title:s("Details"),value:d||"",updateValue:e.setRestrictionExplanation,error:r.restrictionComments}))),n.a.createElement(y.a,{id:i+"_itn",title:n.a.createElement("span",null,s("ITN")," (",n.a.createElement(A.a,{icon:!0,href:"https://pe.usps.com/text/imm/immc5_010.htm",target:"_blank"},s("more info")),")"),value:m||"",updateValue:e.setITN,error:r.itn}),n.a.createElement("div",{className:"customs-step__item-rows"},n.a.createElement(nt,{siteId:t,orderId:a}),Object(v.uniq)(Object(v.map)(p,"product_id")).map(function(e){return n.a.createElement(st,{key:e,productId:e,packageId:i,siteId:t,orderId:a})})))};ot.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,packageId:s.a.string.isRequired,errors:s.a.object,contentsType:s.a.oneOf(["merchandise","documents","gift","sample","other"]),contentsExplanation:s.a.string,restrictionType:s.a.oneOf(["none","quarantine","sanitary_phytosanitary_inspection","other"]),restrictionComments:s.a.string,abandonOnNonDelivery:s.a.bool,itn:s.a.string,items:s.a.arrayOf(s.a.shape({product_id:s.a.number.isRequired})).isRequired,setContentsType:s.a.func.isRequired,setContentsExplanation:s.a.func.isRequired,setRestrictionType:s.a.func.isRequired,setRestrictionExplanation:s.a.func.isRequired,setAbandonOnNonDelivery:s.a.func.isRequired,setITN:s.a.func.isRequired};var lt=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=t.packageId,i=Object(W.s)(e,a,r),s=Object(W.i)(e,a,r).form.packages.selected[n];return{contentsType:s.contentsType,contentsExplanation:s.contentsExplanation,restrictionType:s.restrictionType,restrictionComments:s.restrictionComments,abandonOnNonDelivery:s.abandonOnNonDelivery,itn:s.itn,items:s.items,errors:i?Object(W.f)(e,a,r).customs.packages[n]:{}}},function(e,t){var a=t.orderId,r=t.siteId,n=t.packageId;return{setContentsType:function(t){return e(Object(F.G)(a,r,n,t))},setContentsExplanation:function(t){return e(Object(F.F)(a,r,n,t))},setRestrictionType:function(t){return e(Object(F.R)(a,r,n,t))},setRestrictionExplanation:function(t){return e(Object(F.Q)(a,r,n,t))},setAbandonOnNonDelivery:function(t){return e(Object(F.D)(a,r,n,t))},setITN:function(t){return e(Object(F.O)(a,r,n,t))}}})(Object(l.localize)(ot)),dt=function(e){var t=e.siteId,a=e.orderId,r=e.errors,i=e.expanded,s=e.translate,c=e.isSubmitted,o=e.packageDescriptions,l=Object(I.a)(r)?s("Customs information incomplete"):s("Customs information valid");return n.a.createElement(ie,{title:s("Customs"),summary:c?l:"",expanded:i,toggleStep:e.toggleStep,isSuccess:c&&!Object(I.a)(r),isError:c&&Object(I.a)(r)},Object.keys(o).map(function(e,r){return n.a.createElement("div",{className:"customs-step__package-container",key:e},r?n.a.createElement("hr",null):null,n.a.createElement("p",{className:"customs-step__package-name"},o[e]),n.a.createElement(lt,{packageId:e,siteId:t,orderId:a}))}),n.a.createElement(Ve,{disabled:Object(I.a)(r),onClick:e.confirmCustoms},s("Save customs form")))};dt.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,packageDescriptions:s.a.objectOf(s.a.string).isRequired,expanded:s.a.bool,isSubmitted:s.a.bool.isRequired,errors:s.a.object,toggleStep:s.a.func.isRequired,confirmCustoms:s.a.func.isRequired};var ut=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r),s=i.form.packages.selected;return{packageDescriptions:me(s,Object(pe.a)(e,r),!0),expanded:i.form.customs.expanded,isSubmitted:Object(W.p)(e,a,r),errors:n?Object(W.f)(e,a,r).customs:{}}},function(e,t){var a=t.orderId,r=t.siteId;return{toggleStep:function(){return e(Object(F.U)(a,r,"customs"))},confirmCustoms:function(){return e(Object(F.h)(a,r))}}})(Object(l.localize)(dt)),mt=a(581),pt=a.n(mt),gt=a(531),bt=a.n(gt),ft=a(37),ht=a(573),vt=a(687),_t=new WeakMap;function Et(e,t){return Object(r.useMemo)(function(){var a=function(e){var t=_t.get(e)||0;return _t.set(e,t+1),t}(e);return t?"".concat(t,"-").concat(a):a},[e])}var yt=Object(vt.a)(function(e){return function(t){var a=Et(e);return Object(r.createElement)(e,Object(ft.a)({},t,{instanceId:a}))}},"withInstanceId"),kt=a(611);var Ot=function(e){var t=e.as,a=void 0===t?"div":t,n=Object(ht.a)(e,["as"]);return function(e){var t=e.as,a=void 0===t?"div":t,n=Object(ht.a)(e,["as"]);return"function"===typeof n.children?n.children(n):Object(r.createElement)(a,n)}(Object(kt.a)({as:a,className:"components-visually-hidden"},n))};function jt(e){var t=e.id,a=e.label,n=e.hideLabelFromVision,i=e.help,s=e.className,c=e.children;return Object(r.createElement)("div",{className:R()("components-base-control",s)},Object(r.createElement)("div",{className:"components-base-control__field"},a&&t&&(n?Object(r.createElement)(Ot,{as:"label",htmlFor:t},a):Object(r.createElement)("label",{className:"components-base-control__label",htmlFor:t},a)),a&&!t&&(n?Object(r.createElement)(Ot,{as:"label"},a):Object(r.createElement)(jt.VisualLabel,null,a)),c),!!i&&Object(r.createElement)("p",{id:t+"__help",className:"components-base-control__help"},i))}jt.VisualLabel=function(e){var t=e.className,a=e.children;return t=R()("components-base-control__label",t),Object(r.createElement)("span",{className:t},a)};var It=jt,Nt=a(705);var Rt=yt(function(e){var t=e.label,a=e.className,n=e.heading,i=e.checked,s=e.help,c=e.instanceId,o=e.onChange,l=Object(ht.a)(e,["label","className","heading","checked","help","instanceId","onChange"]),d="inspector-checkbox-control-".concat(c);return Object(r.createElement)(It,{label:n,id:d,help:s,className:a},Object(r.createElement)("span",{className:"components-checkbox-control__input-container"},Object(r.createElement)("input",Object(ft.a)({id:d,className:"components-checkbox-control__input",type:"checkbox",value:"1",onChange:function(e){return o(e.target.checked)},checked:i,"aria-describedby":s?d+"__help":void 0},l)),i?Object(r.createElement)(Nt.a,{icon:"yes",className:"components-checkbox-control__checked",role:"presentation"}):null),Object(r.createElement)("label",{className:"components-checkbox-control__label",htmlFor:d},t))});var qt=yt(function(e){var t=e.label,a=e.className,n=e.selected,i=e.help,s=e.instanceId,c=e.onChange,o=e.options,l=void 0===o?[]:o,d="inspector-radio-control-".concat(s),u=function(e){return c(e.target.value)};return!Object(v.isEmpty)(l)&&Object(r.createElement)(It,{label:t,id:d,help:i,className:R()(a,"components-radio-control")},l.map(function(e,t){return Object(r.createElement)("div",{key:"".concat(d,"-").concat(t),className:"components-radio-control__option"},Object(r.createElement)("input",{id:"".concat(d,"-").concat(t),className:"components-radio-control__input",type:"radio",name:d,value:e.value,onChange:u,checked:e.value===n,"aria-describedby":i?"".concat(d,"__help"):void 0}),Object(r.createElement)("label",{htmlFor:"".concat(d,"-").concat(t)},e.label))}))}),Ct=a(676),wt=function(e){function t(){var e;return $()(this,t),e=Q()(this,Z()(t).call(this)),E()(bt()(e),"onSignatureChecked",function(t,a,r){var n=e.props,i=n.rateObject.service_id,s=n.updateValue,c=t?{id:a,value:r.netCost}:null;e.setState({selectedSignature:c}),s(i,t?r.value:0)}),e.state={signatureOption:!1},e}return te()(t,e),K()(t,[{key:"renderServices",value:function(e,t,a){var r=[];if(a.tracking)switch(e){case"usps":r.push(Object(l.translate)("Includes USPS tracking"));break;default:r.push(Object(l.translate)("Includes tracking"))}return a.insurance&&r.push(Object(l.translate)("Insurance (up to %s)",{args:[pt()(a.insurance,"USD")]})),t.filter(function(e){return 0===e.netCost}).length>0&&r.push(Object(l.translate)("Signature required")),a.free_pickup&&r.push(Object(l.translate)("Eligible for free pickup")),r.join(", ")}},{key:"renderSignatureOptions",value:function(e){var t=this;return e.map(function(e,a){return n.a.createElement(Rt,{key:a,name:"signature_option_".concat(a),label:e.label,checked:!!t.state.selectedSignature&&t.state.selectedSignature.id===a,onChange:function(r){return t.onSignatureChecked(r,a,e)}})})}},{key:"render",value:function(){var e=this.props,t=e.rateObject,a=t.title,r=t.service_id,i=t.carrier_id,s=t.rate,c=t.delivery_days,o=t.delivery_date_guaranteed,d=t.delivery_date,u=t.tracking,p=t.insurance,g=t.free_pickup,b=e.isSelected,f=e.updateValue,h=e.signatureRates,_=this.state.selectedSignature,E=Object(v.values)(Object(v.mapValues)(h,function(e,t){var a=0===e.optionNetCost?Object(l.translate)("free"):Object(l.translate)("+%s",{args:[pt()(e.optionNetCost,"USD")]});return{label:Object(l.translate)("%(label)s (%(price)s)",{args:{label:e.label,price:a}}),value:t,netCost:e.optionNetCost}})),y="";o&&d?y=Object(l.moment)(d).format("LL").split(",")[0]:c&&(y=Object(l.translate)("%(delivery_days)s business day","%(delivery_days)s business days",{count:c,args:{delivery_days:c}}));var k=_?s+_.value:s;return n.a.createElement("div",{className:"rates-step__shipping-rate-container"},n.a.createElement(qt,{className:"rates-step__shipping-rate-radio-control",selected:b?r:null,options:[{label:"",value:r}],onChange:function(){f(r,!1)}}),n.a.createElement("div",{className:"rates-step__shipping-rate-information"},n.a.createElement(Ct.a,{carrier:i,size:30}),n.a.createElement("div",{className:"rates-step__shipping-rate-description"},n.a.createElement("div",{className:"rates-step__shipping-rate-description-title"},a),n.a.createElement("div",{className:"rates-step__shipping-rate-description-details"},this.renderServices(i,E,{tracking:u,insurance:p,free_pickup:g}),b&&E.length>1?this.renderSignatureOptions(E):null)),n.a.createElement("div",{className:"rates-step__shipping-rate-details"},n.a.createElement("div",{className:"rates-step__shipping-rate-rate"},"ups"===i?n.a.createElement(et.a,{position:"top left",text:Object(l.translate)("This rate is provided by your connected UPS account")},n.a.createElement("div",{className:"rates-step__shipping-rate-rate-tooltip"},n.a.createElement(m.a,{icon:"help-outline",size:18}))):null,pt()(k,"USD")),n.a.createElement("div",{className:"rates-step__shipping-rate-delivery-date"},y))))}}]),t}(r.Component);wt.propTypes={rateObject:s.a.shape({rate_id:s.a.string.isRequired,title:s.a.string.isRequired,service_id:s.a.string.isRequired,carrier_id:s.a.string.isRequired,rate:s.a.number.isRequired,delivery_days:s.a.number,delivery_date_guaranteed:s.a.bool,delivery_date:s.a.string,tracking:s.a.bool,insurance:s.a.number,free_pickup:s.a.bool}).isRequired,signatureRates:s.a.object.isRequired};var xt=wt,St={signature_required:d.a.translate("Signature required"),adult_signature_required:d.a.translate("Adult signature required")},Pt=function(e,t,a){var r=function(e,t,a){var r=Object(v.find)(a[e].default.rates,function(e){return t===e.service_id});return"undefined"!==typeof r?r.rate:0}(e,t,a);return Object(v.pickBy)(Object(v.mapValues)(a[e],function(e,a){var n=function(e,t,a,r){var n=Object(v.find)(a,function(t){return e===t.service_id});return"undefined"===typeof n?null:t in St?n.rate===r&&"Express"!==e?null:n:null}(t,a,e.rates,r);return null!==n?{rate:n,label:St[a],optionNetCost:n.rate-r}:null}),function(e){return null!==e})},zt=function(e){var t=e.id,a=e.selectedRates,r=e.availableRates,i=e.selectedPackages,s=e.allPackages,c=e.updateRate,o=e.errors,l=e.shouldShowRateNotice,d=e.translate,u=me(i,s,!0),m=1===Object.keys(i).length;return n.a.createElement("div",null,l&&function(e){return n.a.createElement(k.a,{className:"rates-step__notice",icon:"info-outline",showDismiss:!1,text:e("The service and rate chosen by the customer at checkout is not available. Please choose another.")})}(d),Object.values(Object(v.mapValues)(i,function(e,i){if(!(i in r))return null;var s=a[i]||"",l=r[i].default.rates,p=(o[i]||[]).filter(function(e,t){return o[i].indexOf(e)===t}),g=function(e,t){return c(i,e,t)};return n.a.createElement("div",{key:i,className:"rates-step__package-container"},m?null:n.a.createElement("div",{className:"rates-step__package-container-rates-header"},d("Choose rate: %(pckg)s",{args:{pckg:u[i]}})),Object.values(Object(v.mapValues)(l,function(e){var a=e.service_id;return n.a.createElement(xt,{id:t+"_"+i,key:t+"_"+i+"_"+a,rateObject:e,signatureRates:Pt(i,a,r),updateValue:g,isSelected:a===s.serviceId})})),p.map(function(e,t){return n.a.createElement(fe.a,{type:"server-error",key:t,text:e})}))})))};zt.propTypes={id:s.a.string.isRequired,selectedRates:s.a.object.isRequired,availableRates:s.a.object.isRequired,selectedPackages:s.a.object.isRequired,allPackages:s.a.object.isRequired,updateRate:s.a.func.isRequired,errors:s.a.object.isRequired};var Tt=Object(l.localize)(zt);function At(e){var t=Object(v.get)(e,"shipping_lines",[]);return Object(v.reduce)(t,function(e,t){return e+parseFloat(t.total)},0)}function Dt(e){return Object(v.get)(e,"shipping_lines[0].method_title",!1)}var Ut=a(604),Vt=function(e){var t=e.siteId,a=e.orderId,r=e.form,i=e.allPackages,s=e.values,c=e.available,o=e.errors,l=e.ratesTotal,d=e.translate,u=function(e,t,a,r,n){if(!r)return n("Unsaved changes made to packages");if(Object(v.some)(Object(v.mapValues)(t,function(e){return Object(v.isEmpty)(e.default.rates)})))return n("No rates found");if(!a)return"";var i=Object.keys(e);if(1===i.length){var s=i[0],c=e[s],o=t[s].default.rates,l=Object(v.find)(o,["service_id",c]);return l?n("%(serviceName)s: %(rate)s",{args:{serviceName:l.title,rate:pt()(l.rate,"USD")}}):""}return n("Total rate: %(total)s",{args:{total:pt()(a,"USD")}})}(s,c,l,r.packages.saved,d),p=function(r,n,i){return e.updateRate(a,t,r,n,i)};return Object(v.forEach)(r.packages.selected,function(e,t){if(""===s[t]&&!Object(v.isEmpty)(c)&&t in c&&1===c[t].default.rates.length){var a=c[t].default.rates[0].service_id;p(t,a,!1)}}),n.a.createElement(ie,h()({title:d("Shipping rates"),summary:u,expanded:!Object(v.isEmpty)(c),toggleStep:function(){return e.toggleStep(a,t,"rates")}},function(e){var t=e.retrievalInProgress,a=e.errors,r=e.available,n=e.form;return t?{isProgress:!0}:Object(I.a)(a)?{isError:!0}:Object(v.isEmpty)(r)?{}:n.packages.saved?{isSuccess:!0}:{isWarning:!0}}(e)),!Object(v.isEmpty)(c)&&function(e){var t=e.shippingMethod,a=e.shippingCost,r=e.translate,i=document.createElement("div");i.innerHTML=t;var s,c=i.textContent;if(t)return s=0<a?r("Customer paid a {{shippingMethod/}} of {{shippingCost/}} for shipping",{components:{shippingMethod:n.a.createElement("span",null,c),shippingCost:n.a.createElement("span",{className:"rates-step__shipping-info-cost"},pt()(a,"USD"))}}):r("Your customer selected {{shippingMethod/}}",{components:{shippingMethod:n.a.createElement("span",{className:"rates-step__shipping-info-method"},c)}}),n.a.createElement("div",{className:"rates-step__shipping-info"},n.a.createElement(m.a,{icon:"info-outline"}),n.a.createElement("div",null,s))}(e),n.a.createElement(Tt,{id:"rates",orderId:a,siteId:t,showRateNotice:!1,selectedPackages:r.packages.selected,allPackages:i,selectedRates:s,availableRates:c,updateRate:p,errors:o}))};Vt.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,form:s.a.object.isRequired,values:s.a.object.isRequired,available:s.a.object.isRequired,errors:s.a.object.isRequired,toggleStep:s.a.func.isRequired,updateRate:s.a.func.isRequired};var Mt=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r),s=Object(W.k)(e,a,r),c=Object(Ut.a)(e,a,r);return b()({},i.form.rates,{form:i.form,errors:n&&Object(W.f)(e,a,r).rates,ratesTotal:s?s.total:0,allPackages:Object(pe.a)(e,r),shippingCost:At(c),shippingMethod:Dt(c)})},function(e){return Object(o.b)({toggleStep:F.U,updateRate:F.Y},e)})(Object(l.localize)(Vt)),Ft=a(602),Wt=function(e){function t(){var e,a;$()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=Q()(this,(e=Z()(t)).call.apply(e,[this].concat(i))),E()(bt()(a),"renderDiscount",function(e){var t=a.props.translate,r=t("WooCommerce Services gives you access to USPS Commercial Pricing, which is discounted over Retail rates.");return n.a.createElement("div",{className:"label-purchase-modal__price-item-help"},n.a.createElement(et.a,{className:"label-purchase-modal__price-item-tooltip is-dialog-visible",position:"top center",text:r},n.a.createElement("div",{className:"label-purchase-modal__discount"},t("You save %s with WooCommerce Services",{args:[pt()(e,"USD")]}),n.a.createElement(m.a,{icon:"help-outline",size:18}))))}),E()(bt()(a),"renderRow",function(e,t,a,r){var i=R()("label-purchase-modal__price-item",{"label-purchase-modal__price-item-total":r});return n.a.createElement("div",{key:a,className:i},n.a.createElement("div",{className:"label-purchase-modal__price-item-name"},e),n.a.createElement("div",{className:"label-purchase-modal__price-item-amount"},pt()(t,"USD")))}),a}return te()(t,e),K()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.priceBreakdown,i=t.translate;if(!a)return null;var s=a.prices,c=a.discount,o=a.total;return n.a.createElement("div",{className:"label-purchase-modal__shipping-summary-section"},n.a.createElement("hr",null),s.map(function(t,a){var s=i("Package %(index)s \u2013 %(title)s",{args:{index:a+1,title:t.carrierTitle}});return n.a.createElement(r.Fragment,{key:a},e.renderRow(s,t.rateWithDiscount,a),"ups"===t.carrierId?n.a.createElement("div",{className:"label-purchase-modal__price-item-carrier-account-notice"}," ",i("Your UPS account will be charged")):n.a.createElement("div",null),t.addons.map(function(t,r){return n.a.createElement("div",{key:"addons-"+a,className:"label-purchase-modal__price-item-addons"},e.renderRow(t.title,t.rate,"addon-"+r))}))}),this.renderRow(i("Total"),o,"total",!0),0<c&&this.renderDiscount(c))}}]),t}(r.Component);Wt.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired};var Lt=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId;return{priceBreakdown:Object(W.k)(e,a,r)}})(Object(l.localize)(Wt)),Bt=function(e){var t=e.translate,a=e.normalizationStatus,r=e.form,i=e.orderId,s=e.siteId,c=r.origin,o=r.rates,l=Object.keys(o.values).length;return n.a.createElement("div",{className:"label-purchase-modal__shipping-summary-section"},n.a.createElement("div",{className:"label-purchase-modal__shipping-summary-header"},t("Shipping summary")),n.a.createElement("div",{className:"label-purchase-modal__shipping-summary-info"},a.isSuccess?n.a.createElement("div",{className:"label-purchase-modal__shipping-summary-street"},n.a.createElement("div",null,t("Shipping from")),n.a.createElement("div",null,c.values.address,n.a.createElement("a",{href:"#",onClick:function(){return e.toggleStep(i,s,"origin",!0)}},t("Edit")))):null),n.a.createElement("div",{className:"label-purchase-modal__shipping-summarry-labels"},l+" "+t("shipping label ready","shipping labels ready",{count:l})))};Bt.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired};var Ht=function(e){var t=e.normalizationInProgress,a=e.errors,r=e.isNormalized,n=e.values,i=e.normalized;return t?{isProgress:!0}:Object(I.a)(a)||r&&!i||!r?{isError:!0}:r?Object(v.isEqual)(n,i)?{isSuccess:!0}:{isWarning:!0}:{}},Yt=Object(l.localize)(Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r),s=i.form.origin,c=n&&Object(W.f)(e,a,r).origin;return{orderId:a,siteId:r,errors:c,form:i.form,expanded:s.expanded,normalizationStatus:Ht(b()({},s,{errors:c}))}},function(e){return Object(o.b)({toggleStep:F.U},e)})(Bt)),$t=function(e){var t=e.form,a=e.disabled,i=e.busy;return n.a.createElement(r.Fragment,null,n.a.createElement(ue.a,{disabled:a,onClick:t.needsPrintConfirmation?e.confirmPrintLabel:e.purchaseLabel,primary:!0,busy:i},function(e){var t=e.form,a=e.translate;return t.needsPrintConfirmation?a("Print"):t.isSubmitting?a("Purchasing\u2026"):a("Buy shipping label","Buy shipping labels",{count:Object.keys(t.packages.selected).length})}(e)))};$t.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,disabled:s.a.bool,busy:s.a.bool};var Gt=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r);return{form:n&&i.form}},function(e,t){var a=t.orderId,r=t.siteId;return{confirmPrintLabel:function(){return e(Object(F.j)(a,r))},purchaseLabel:function(){return e(Object(F.B)(a,r))}}})(Object(l.localize)($t)),Kt=a(567),Jt=function(e){function t(){var e,a;$()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=Q()(this,(e=Z()(t)).call.apply(e,[this].concat(n))),E()(bt()(a),"onVisibilityChange",function(){document.hidden||a.refetchSettings(),a.creditCardWindow&&a.creditCardWindow.closed&&document.removeEventListener("visibilitychange",a.onVisibilityChange)}),E()(bt()(a),"refetchSettings",function(){a.props.fetchSettings(a.props.siteId)}),E()(bt()(a),"onChooseCard",function(){a.creditCardWindow=window.open(a.props.url),document.addEventListener("visibilitychange",a.onVisibilityChange)}),a}return te()(t,e),K()(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.buttonLabel,i=e.buttonDescription;return n.a.createElement(r.Fragment,null,n.a.createElement(ue.a,{onClick:this.onChooseCard,disabled:t,primary:!0},a," ",n.a.createElement(m.a,{icon:"external"})),n.a.createElement("div",{className:"purchase-section__explanation"},i(this.onChooseCard)))}}]),t}(r.Component),Qt=Object(c.b)(function(e){return e},function(e){return Object(o.b)({fetchSettings:Kt.a},e)})(Object(l.localize)(Jt)),Xt=a(628),Zt=(a(782),Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r),s=n&&Object(W.b)(e,a,r),c=n&&i.form;return{form:c,hasLabelsPaymentMethod:Boolean(Object(Ce.n)(e,r)),paymentMethods:Object(Ce.l)(e,r),disablePurchase:!c.needsPrintConfirmation&&(!s||c.isSubmitting)}})(Object(l.localize)(function(e){var t=e.orderId,a=e.siteId,r=e.hasLabelsPaymentMethod,i=e.paymentMethods,s=e.form,c=e.disablePurchase,o=e.translate,l=s.isSubmitting&&!s.needsPrintConfirmation,d=Object(W.m)(s.rates);return n.a.createElement("div",{className:"purchase-section"},r||!d?n.a.createElement(Gt,{siteId:a,orderId:t,disabled:c,busy:l}):i.length?n.a.createElement(Qt,{disabled:c,url:"admin.php?page=wc-settings&tab=shipping&section=woocommerce-services-settings",buttonLabel:o("Choose credit card"),buttonDescription:function(e){return o("To print this shipping label, {{a}}choose a credit card to add to your account{{/a}}.",{components:{a:n.a.createElement("a",{onClick:e,href:"#",role:"button"})}})}}):n.a.createElement(Qt,{disabled:c,url:Object(Xt.a)()+"/me/purchases/add-credit-card",buttonLabel:o("Add credit card"),buttonDescription:function(e){return o("To print this shipping label, {{a}}add a credit card to your account{{/a}}.",{components:{a:n.a.createElement("a",{onClick:e,href:"#",role:"button"})}})}}))}))),ea=a(685),ta=a(533),aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(ta.a)(e);return Object(v.get)(e,["extensions","woocommerce","ui","orders",t,"edits","currentlyEditingId"],null)},ra=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(ta.a)(e),a=aa(e,t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(ta.a)(e);return Object(v.get)(e,["extensions","woocommerce","ui","orders",t,"edits","changes"],{})}(e,t);if(Object(v.isObject)(a)){var n=function(){var e=Object(ea.b)(0,"USD");return{status:"pending",currency:"USD",discount_total:e,discount_tax:e,shipping_total:e,shipping_tax:e,cart_tax:e,total:e,total_tax:e,prices_include_tax:!1,billing:{},shipping:{},payment_method:"calypso_manual",payment_method_title:Object(l.translate)("Manual Payment"),line_items:[],tax_lines:[],shipping_lines:[],fee_lines:[],coupon_lines:[],refunds:[]}}();return b()({},n,r,{id:a})}var i=Object(Ut.a)(e,a,t);return i?Object(v.merge)({},i,r):r},na=a(637),ia=function(e){var t=e.orderId,a=e.siteId,r=e.form,i=e.errors,s=e.paperSize,c=e.translate,o=e.fulfillOrder,l=e.emailDetails,d=e.order,u=e.hasLabelsPaymentMethod;return n.a.createElement("div",{className:"label-purchase-modal__sidebar"},n.a.createElement(Yt,{siteId:a,orderId:t}),n.a.createElement(Lt,{siteId:a,orderId:t}),n.a.createElement("hr",null),n.a.createElement("div",{className:"label-purchase-modal__purchase-container"},u?n.a.createElement(j.a,{id:"paper_size",valuesMap:Object(Ft.a)(r.origin.values.country),title:c("Paper size"),value:s,updateValue:function(r){return e.updatePaperSize(t,a,r)},error:i.paperSize}):null,n.a.createElement(Zt,{siteId:a,orderId:t})),n.a.createElement(Rt,{className:"label-purchase-modal__option-mark-order-fulfilled",label:Object(na.b)(d.status)?c("Notify the customer with shipment details"):c("Mark this order as complete and notify the customer"),checked:o||l,onChange:function(r){e.setFulfillOrderOption(t,a,r&&!Object(na.b)(d.status)),e.setEmailDetailsOption(t,a,r&&Object(na.b)(d.status))}}))};ia.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired,paperSize:s.a.string.isRequired,errors:s.a.object.isRequired,form:s.a.object.isRequired,updatePaperSize:s.a.func.isRequired,fulfillOrder:s.a.bool.isRequired,emailDetails:s.a.bool.isRequired,order:s.a.object.isRequired,hasLabelsPaymentMethod:s.a.bool.isRequired,setFulfillOrderOption:s.a.func.isRequired};var sa=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r);return{order:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(ta.a)(e);return!!aa(e,t)}(e)?ra(e):Object(Ut.a)(e,a),paperSize:i.paperSize,form:i.form,hasLabelsPaymentMethod:Boolean(Object(Ce.n)(e,r)),errors:n&&Object(W.f)(e,a,r).sidebar,fulfillOrder:n&&Object(W.u)(e,a,r),emailDetails:n&&Object(W.t)(e,a,r)}},function(e){return Object(o.b)({setEmailDetailsOption:F.M,setFulfillOrderOption:F.N,updatePaperSize:F.X},e)})(Object(l.localize)(ia)),ca=function(e){var t=e.loaded,a=e.translate;if(!t)return null;var r=function(){return e.exitPrintingFlow(e.orderId,e.siteId,!1)};return n.a.createElement(p.a,{additionalClassNames:"woocommerce label-purchase-modal wcc-root",isVisible:e.showPurchaseDialog,onClose:r},n.a.createElement("div",{className:"label-purchase-modal__content"},n.a.createElement("div",{className:"label-purchase-modal__header"},n.a.createElement(Se.a,null,a("Create shipping label","Create shipping labels",{count:Object.keys(e.form.packages.selected).length})),n.a.createElement(ue.a,{className:"label-purchase-modal__close-button",onClick:r},n.a.createElement(m.a,{icon:"cross"}))),n.a.createElement("div",{className:"label-purchase-modal__body"},n.a.createElement("div",{className:"label-purchase-modal__main-section"},n.a.createElement(de,{type:"origin",title:a("Origin address"),siteId:e.siteId,orderId:e.orderId}),n.a.createElement(de,{type:"destination",title:a("Destination address"),siteId:e.siteId,orderId:e.orderId}),n.a.createElement(We,{siteId:e.siteId,orderId:e.orderId}),e.isCustomsFormRequired&&n.a.createElement(ut,{siteId:e.siteId,orderId:e.orderId}),n.a.createElement(Mt,{siteId:e.siteId,orderId:e.orderId})),n.a.createElement(sa,{siteId:e.siteId,orderId:e.orderId}))))};ca.propTypes={siteId:s.a.number.isRequired,orderId:s.a.number.isRequired};t.default=Object(c.b)(function(e,t){var a=t.orderId,r=t.siteId,n=Object(W.s)(e,a,r),i=Object(W.i)(e,a,r);return{loaded:n,form:n&&i.form,showPurchaseDialog:i.showPurchaseDialog,isCustomsFormRequired:Object(W.o)(e,a,r)}},function(e){return Object(o.b)({exitPrintingFlow:F.o},e)})(Object(l.localize)(ca))}}]);