(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{591:function(e,n,t){"use strict";var i=t(47),o=t.n(i),r=t(1),s=t(115),c=o()("calypso:notices");c("initializing notices");var a,u={containerNames:{}};a=u,Object(r.assign)(a,s.EventEmitter.prototype),a.emitChange=function(){this.emit("change")},a.off=a.removeListener;var p=[],l={new:function(e,n,t){var i=n.overlay?"overlay-notices":"notices";u.containerNames[i]=i,c("creating notice",e,n,t),u[i]=[];var o={type:n.type||"message",status:t,text:e,duration:n.duration,container:i,button:n.button,href:n.href,onClick:function(e){if("function"===typeof n.onClick){var t=l.removeNotice.bind(l,o);return n.onClick(e,t)}},onRemoveCallback:n.onRemoveCallback||function(){},arrow:n.arrow,isCompact:n.isCompact,showDismiss:n.showDismiss,persistent:n.persistent};return n.displayOnNextPage?p.push(o):u[i].push(o),u.emit("change"),o},success:function(e,n){return n=n||{},this.new(e,n,"is-success")},error:function(e,n){return n=n||{},this.new(e,n,"is-error")},info:function(e,n){return n=n||{},this.new(e,n,"is-info")},warning:function(e,n){return n=n||{},this.new(e,n,"is-warning")},list:u,removeNotice:function(e){if(e.container){var n=u[e.container],t=n.indexOf(e);-1!==t&&(n.splice(t,1),u.emit("change"))}},clearNoticesOnNavigation:function(e,n){c("clearNoticesOnNavigation");var t=!1,i=function(e){return e.persistent};for(var o in u.containerNames){var r=u[o].length;u[o]=u[o].filter(i),r!==u[o].length&&(t=!0)}p.length&&(p.forEach(function(e){u[e.container]=[],u[e.container].push(e)}),p=[]),t&&u.emit("change"),n()},clearNotices:function(e){u[e]=[],u.emit("change")},getStatusHelper:function(e){return e.error?"is-error":e.warning?"is-warning":e.info?"is-info":e.success?"is-success":void 0}};n.a=l},631:function(e,n,t){"use strict";var i=t(530),o=t.n(i),r=t(532),s=t.n(r),c=t(164),a=t.n(c),u=t(12),p=t.n(u),l=t(10),f=t.n(l),h=t(563),m=t(640),v=t(526),d=t.n(v);t(658);function g(e){var n=e.id,t=e.className,i=e.children;return f.a.createElement("div",{id:n,className:d()("global-notices",t)},i)}var N=t(591),b=t(47),w=t.n(b)()("calypso:data-observe"),k=t(109),y=t(1),C=t(547),E=Object(C.a)(function(e){return Object(y.values)(e.notices.items)},function(e){return e.notices.items}),x=(Object(C.a)(function(e,n){return e.notices.lastTimeShown[n]||0},function(e){return e.notices.lastTimeShown}),t(553)),O=a()({displayName:"GlobalNotices",mixins:[function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{componentDidMount:function(){n.forEach(function(e){this.props[e]?this.props[e].on("change",this.update):w(e+" is not set.")},this)},componentWillUnmount:function(){n.forEach(function(e){this.props[e]&&this.props[e].off("change",this.update)},this)},componentWillReceiveProps:function(e){n.forEach(function(n){this.props[n]!==e[n]&&(this.props[n]&&this.props[n].off("change",this.update),e[n]&&e[n].on("change",this.update))},this)},update:function(){w("Re-rendering "+this.constructor.displayName+" component."),this.forceUpdate()}}}("notices")],propTypes:{id:p.a.string,notices:p.a.oneOfType([p.a.object,p.a.array]),removeNotice:p.a.func.isRequired,storeNotices:p.a.array.isRequired},getDefaultProps:function(){return{id:"overlay-notices",notices:Object.freeze([])}},removeNoticeStoreNotice:function(e){return function(){e&&N.a.removeNotice(e)}},removeReduxNotice:function(e,n){var t=this;return function(i){n&&n(i),t.props.removeNotice(e)}},render:function(){var e=(this.props.notices[this.props.id]||[]).map(function(e,n){return f.a.createElement(h.a,{key:"notice-old-"+n,status:e.status,duration:e.duration||null,text:e.text,isCompact:e.isCompact,onDismissClick:this.removeNoticeStoreNotice(e),showDismiss:e.showDismiss},e.button&&f.a.createElement(m.a,{href:e.href,onClick:e.onClick},e.button))},this);return(e=e.concat(this.props.storeNotices.map(function(e){var n=e.button,t=e.href,i=e.noticeId,r=e.onClick,c=e.onDismissClick,a=s()(e,["button","href","noticeId","onClick","onDismissClick"]);return f.a.createElement(h.a,o()({},a,{key:"notice-".concat(i),onDismissClick:this.removeReduxNotice(i,c)}),n&&f.a.createElement(m.a,{href:t,onClick:r},n))},this))).length?f.a.createElement(g,{id:this.props.id},e):null}});n.a=Object(k.b)(function(e){return{storeNotices:E(e)}},{removeNotice:x.c})(O)},640:function(e,n,t){"use strict";t.d(n,"a",function(){return k});var i=t(107),o=t.n(i),r=t(108),s=t.n(r),c=t(528),a=t.n(c),u=t(527),p=t.n(u),l=t(529),f=t.n(l),h=t(34),m=t.n(h),v=t(12),d=t.n(v),g=t(10),N=t.n(g),b=t(534),w=t.n(b),k=function(e){function n(){return o()(this,n),a()(this,p()(n).apply(this,arguments))}return f()(n,e),s()(n,[{key:"render",value:function(){var e={className:"notice__action",href:this.props.href,onClick:this.props.onClick};return this.props.external&&(e.target="_blank",e.rel="noopener noreferrer"),N.a.createElement("a",e,N.a.createElement("span",null,this.props.children),this.props.icon&&N.a.createElement(w.a,{icon:this.props.icon,size:24}),this.props.external&&N.a.createElement(w.a,{icon:"external",size:24}))}}]),n}(N.a.Component);m()(k,"displayName","NoticeAction"),m()(k,"propTypes",{href:d.a.string,onClick:d.a.func,external:d.a.bool,icon:d.a.string}),m()(k,"defaultProps",{external:!1})},658:function(e,n,t){}}]);